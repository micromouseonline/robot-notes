{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Micromouse &amp; Line\u2011Follower Robotics Guide","text":"<p>Warning</p> <p>This is a draft outline, generated originally by CoPilot, and should not be considered binding. As pages are available, the entries will become highlighted links to those pages. Entries may change or disappear. Do not bookmark links if you see this note on the index page.</p>"},{"location":"#foundations","title":"Foundations","text":""},{"location":"#introduction-to-micromouse-linefollowing","title":"Introduction to Micromouse &amp; Line\u2011Following","text":"<ul> <li>What the contests are</li> <li>Typical robot constraints</li> <li>What \u201csuccess\u201d looks like</li> </ul>"},{"location":"#core-principles-of-small-robot-design","title":"Core Principles of Small Robot Design","text":"<ul> <li>Weight, size, power, cost</li> <li>Trade\u2011offs and design philosophy</li> </ul>"},{"location":"#essential-tools-skills","title":"Essential Tools &amp; Skills","text":"<ul> <li>Electronics Knowledge</li> <li>Soldering and PCB basics</li> <li>Mechanical Design and Manufacture</li> <li>Firmware development workflow</li> <li>Debugging tools (oscilloscope, logic analyser, etc.)</li> </ul>"},{"location":"#electronics-for-small-robots","title":"Electronics for Small Robots","text":""},{"location":"#power-systems","title":"Power Systems","text":"<ul> <li>Battery Types</li> <li>Voltage regulators</li> <li>Power distribution and grounding</li> <li>Noise considerations</li> </ul>"},{"location":"#microcontrollers-processing","title":"Microcontrollers &amp; Processing","text":"<ul> <li>Choosing a Microcontroller</li> <li>Timers, ADCs, interrupts, DMA</li> <li>Development Tools</li> </ul>"},{"location":"#motors-drivers","title":"Motors &amp; Drivers","text":"<ul> <li>Electric Motor Types</li> <li>Motor Driver Electronics</li> <li>Motor Driving Software</li> <li>Back\u2011EMF</li> <li>Stall current</li> <li>PWM strategies</li> </ul>"},{"location":"#encoders","title":"Encoders","text":"<ul> <li>Odometry Requirements</li> <li>Optical, magnetic, reflective</li> <li>Quadrature decoding</li> <li>Mounting and alignment</li> </ul>"},{"location":"#sensor-overview","title":"Sensor Overview","text":"<ul> <li>Differences between micromouse and line\u2011follower sensing</li> <li>Reflectivity, geometry, timing, noise</li> </ul>"},{"location":"#wall-sensor-systems","title":"Wall Sensor Systems","text":""},{"location":"#geometry-optical-design","title":"Geometry &amp; Optical Design","text":"<ul> <li>Beam shapes</li> <li>Sensor placement</li> <li>Wall reflectivity and angle effects</li> </ul>"},{"location":"#emitters","title":"Emitters","text":"<ul> <li>IR vs visible LEDs</li> <li>Forward voltage, current, pulse driving</li> <li>Safety and lifetime</li> </ul>"},{"location":"#detectors","title":"Detectors","text":"<ul> <li>Phototransistors</li> <li>Photodiodes</li> <li>Transimpedance amplifiers</li> </ul>"},{"location":"#emitter-drive-circuits","title":"Emitter Drive Circuits","text":"<ul> <li>Simple switched drive</li> <li>Constant\u2011current drive</li> <li>Improved Constant\u2011current drive</li> <li>Trade\u2011offs and limitations</li> </ul>"},{"location":"#signal-conditioning","title":"Signal Conditioning","text":"<ul> <li>Filtering</li> <li>Amplification</li> <li>ADC sampling strategies</li> </ul>"},{"location":"#calibration-testing","title":"Calibration &amp; Testing","text":"<ul> <li>Normalisation</li> <li>Wall distance calibration</li> </ul>"},{"location":"#line-sensor-systems","title":"Line Sensor Systems","text":""},{"location":"#geometry-optical-design_1","title":"Geometry &amp; Optical Design","text":"<ul> <li>Digital vs Analogue</li> <li>Sensor placement</li> <li>Line and Marker Detection</li> </ul>"},{"location":"#emitters_1","title":"Emitters","text":"<ul> <li>IR vs visible LEDs</li> <li>Forward voltage, current, pulse driving</li> <li>Safety and lifetime</li> </ul>"},{"location":"#detectors_1","title":"Detectors","text":"<ul> <li>Phototransistors</li> <li>Photodiodes</li> <li>Transimpedance amplifiers</li> </ul>"},{"location":"#emitter-drive-circuits_1","title":"Emitter Drive Circuits","text":"<ul> <li>Special Requirements for Line Followers</li> <li>Trade\u2011offs and limitations</li> </ul>"},{"location":"#signal-conditioning_1","title":"Signal Conditioning","text":"<ul> <li>Filtering</li> <li>Amplification</li> <li>ADC sampling strategies</li> </ul>"},{"location":"#calibration-testing_1","title":"Calibration &amp; Testing","text":"<ul> <li>Line Sensor Calibration</li> <li>Marker Sensor Calibration</li> <li>Line Reflectivity</li> <li>Special Cases</li> </ul>"},{"location":"#mechanics-chassis-design","title":"Mechanics &amp; Chassis Design","text":""},{"location":"#chassis-materials-construction","title":"Chassis Materials &amp; Construction","text":"<ul> <li>Materials</li> <li>Dimensions</li> <li>Clearances</li> </ul>"},{"location":"#drive-system","title":"Drive System","text":"<ul> <li>Gearboxes</li> <li>Wheel Count</li> <li>Wheel Size</li> <li>Grip</li> </ul>"},{"location":"#weight-distribution","title":"Weight Distribution","text":"<ul> <li>Mass (Weight)</li> <li>Centre of Gravity</li> <li>Inertia</li> </ul>"},{"location":"#motion-control","title":"Motion Control","text":""},{"location":"#kinematics-of-differential-drive","title":"Kinematics of Differential Drive","text":"<ul> <li>Speed, acceleration, turning</li> </ul>"},{"location":"#controller-design","title":"Controller Design","text":"<ul> <li>System Characterisation</li> <li>Controller Types, PD, PID, etc</li> <li>Velocity Profiles</li> <li>Tuning strategies</li> <li>Feedforward terms</li> </ul>"},{"location":"#trajectory-generation","title":"Trajectory Generation","text":"<ul> <li>For micromouse (straight, diagonal, turns)</li> <li>For line followers</li> </ul>"},{"location":"#micromouse-navigation-algorithms","title":"Micromouse Navigation &amp; Algorithms","text":""},{"location":"#maze-representation","title":"Maze Representation","text":"<ul> <li>Cells, walls, bitfields</li> </ul>"},{"location":"#mapping","title":"Mapping","text":"<ul> <li>Flood\u2011fill</li> <li>Distance transforms</li> <li>Wall\u2011following</li> </ul>"},{"location":"#path-planning","title":"Path Planning","text":"<ul> <li>Shortest path</li> <li>Speed\u2011optimised path</li> </ul>"},{"location":"#state-estimation","title":"State Estimation","text":"<ul> <li>Odometry</li> <li>IMU (Gyro)</li> <li>Sensor fusion</li> <li>Drift management</li> </ul>"},{"location":"#line-follower-navigation-algorithms","title":"Line Follower Navigation &amp; Algorithms","text":""},{"location":"#track-representation","title":"Track Representation","text":"<ul> <li>Segments, Markers</li> </ul>"},{"location":"#mapping_1","title":"Mapping","text":"<ul> <li>Track Recording</li> </ul>"},{"location":"#path-planning_1","title":"Path Planning","text":"<ul> <li>Track Playback</li> </ul>"},{"location":"#state-estimation_1","title":"State Estimation","text":"<ul> <li>Odometry</li> <li>IMU (Gyro)</li> <li>Sensor fusion</li> </ul>"},{"location":"#firmware-architecture","title":"Firmware Architecture","text":""},{"location":"#realtime-structure","title":"Real\u2011Time Structure","text":"<ul> <li>Main loop vs RTOS</li> <li>Interrupt design</li> </ul>"},{"location":"#modular-code-organisation","title":"Modular Code Organisation","text":"<ul> <li>Drivers</li> <li>Control loops</li> <li>Navigation logic</li> </ul>"},{"location":"#testing-simulation","title":"Testing &amp; Simulation","text":"<ul> <li>Unit testing</li> <li>Simulators</li> <li>Logging and telemetry</li> </ul>"},{"location":"#building-debugging-and-iteration","title":"Building, Debugging, and Iteration","text":""},{"location":"#prototyping-workflow","title":"Prototyping Workflow","text":"<ul> <li>Breadboard \u2192 PCB \u2192 revision cycles</li> </ul>"},{"location":"#common-failure-modes","title":"Common Failure Modes","text":"<ul> <li>Electrical noise</li> <li>Sensor misalignment</li> <li>Connectors</li> </ul>"},{"location":"#debugging-techniques","title":"Debugging Techniques","text":"<ul> <li>Oscilloscope use</li> <li>Capturing sensor traces</li> <li>In Circuit Debugging</li> </ul>"},{"location":"#competition-preparation","title":"Competition Preparation","text":"<ul> <li>Calibration routines</li> <li>Battery management</li> <li>Reliability checks</li> </ul>"},{"location":"#advanced-topics","title":"Advanced Topics","text":""},{"location":"#highperformance-micromouse","title":"High\u2011Performance Micromouse","text":"<ul> <li>High\u2011speed turns</li> <li>Diagonal movement</li> <li>Dynamic speed control</li> </ul>"},{"location":"#advanced-linefollower-techniques","title":"Advanced Line\u2011Follower Techniques","text":"<ul> <li>Multi\u2011sensor arrays</li> <li>High\u2011speed cornering</li> <li>Course straightening</li> </ul>"},{"location":"#increased-downforce","title":"Increased Downforce","text":"<ul> <li>The Grip Problem</li> <li>Suction Fans</li> <li></li> </ul>"},{"location":"#appendices","title":"Appendices","text":""},{"location":"#reference-designs","title":"Reference Designs","text":"<ul> <li>Example schematics</li> <li>PCB layouts</li> </ul>"},{"location":"#component-selection-guides","title":"Component Selection Guides","text":"<ul> <li>Optical Sensors,</li> <li>Motor Drivers</li> <li>Motors</li> <li>Batteries</li> <li>IMUs </li> <li>Microcontrollers</li> </ul>"},{"location":"#mathematical-tools","title":"Mathematical Tools","text":"<ul> <li>PID derivations</li> <li>Kinematic equations</li> <li>Flood\u2011fill math</li> </ul>"},{"location":"license/","title":"License","text":"<p>MIT License</p> <p>Copyright \u00a9 2025 Peter Harrison</p> <p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p> <p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p> <p>THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>"},{"location":"outline-contents/","title":"Micromouse &amp; Line\u2011Follower Robotics Guide","text":""},{"location":"outline-contents/#part-i-foundations","title":"Part I \u2014 Foundations","text":""},{"location":"outline-contents/#introduction-to-micromouse-linefollowing","title":"Introduction to Micromouse &amp; Line\u2011Following","text":"<ul> <li>What the contests are</li> <li>Typical robot constraints</li> <li>What \u201csuccess\u201d looks like</li> </ul>"},{"location":"outline-contents/#core-principles-of-small-robot-design","title":"Core Principles of Small Robot Design","text":"<ul> <li>Weight, size, power, cost</li> <li>Trade\u2011offs and design philosophy</li> </ul>"},{"location":"outline-contents/#essential-tools-skills","title":"Essential Tools &amp; Skills","text":"<ul> <li>Soldering and PCB basics</li> <li>Firmware development workflow</li> <li>Debugging tools (oscilloscope, logic analyser, etc.)</li> </ul>"},{"location":"outline-contents/#part-ii-electronics-for-small-robots","title":"Part II \u2014 Electronics for Small Robots","text":""},{"location":"outline-contents/#power-systems","title":"Power Systems","text":"<ul> <li>LiPo batteries</li> <li>Voltage regulators</li> <li>Power distribution and grounding</li> <li>Noise considerations</li> </ul>"},{"location":"outline-contents/#microcontrollers-processing","title":"Microcontrollers &amp; Processing","text":"<ul> <li>Choosing an MCU</li> <li>Timers, ADCs, interrupts, DMA</li> <li>Clocking and power modes</li> </ul>"},{"location":"outline-contents/#motors-drivers","title":"Motors &amp; Drivers","text":"<ul> <li>DC motors, coreless motors, brushless options</li> <li>H\u2011bridges and current limits</li> <li>Thermal considerations</li> </ul>"},{"location":"outline-contents/#encoders","title":"Encoders","text":"<ul> <li>Optical, magnetic, reflective</li> <li>Quadrature decoding</li> <li>Mounting and alignment</li> </ul>"},{"location":"outline-contents/#sensor-overview","title":"Sensor Overview","text":"<ul> <li>Differences between micromouse and line\u2011follower sensing</li> <li>Reflectivity, geometry, timing, noise</li> </ul>"},{"location":"outline-contents/#part-iii-sensor-systems-deep-dive","title":"Part III \u2014 Sensor Systems (Deep Dive)","text":""},{"location":"outline-contents/#emitters","title":"Emitters","text":"<ul> <li>IR vs visible LEDs</li> <li>Forward voltage, current, pulse driving</li> <li>Safety and lifetime</li> </ul>"},{"location":"outline-contents/#detectors","title":"Detectors","text":"<ul> <li>Phototransistors</li> <li>Photodiodes</li> <li>Transimpedance amplifiers</li> </ul>"},{"location":"outline-contents/#emitter-drive-circuits","title":"Emitter Drive Circuits","text":"<ul> <li>Simple switched drive</li> <li>Reservoir\u2011capacitor\u2011assisted drive</li> <li>Constant\u2011current drive (BJT and MOSFET)</li> <li>Trade\u2011offs and limitations</li> </ul>"},{"location":"outline-contents/#geometry-optical-design","title":"Geometry &amp; Optical Design","text":"<ul> <li>Beam shaping</li> <li>Sensor placement</li> <li>Wall reflectivity and angle effects</li> </ul>"},{"location":"outline-contents/#signal-conditioning","title":"Signal Conditioning","text":"<ul> <li>Filtering</li> <li>Amplification</li> <li>ADC sampling strategies</li> </ul>"},{"location":"outline-contents/#calibration-testing","title":"Calibration &amp; Testing","text":"<ul> <li>Wall distance calibration</li> <li>Line reflectivity calibration</li> <li>Temperature effects</li> </ul>"},{"location":"outline-contents/#part-iv-mechanics-chassis-design","title":"Part IV \u2014 Mechanics &amp; Chassis Design","text":""},{"location":"outline-contents/#chassis-materials-construction","title":"Chassis Materials &amp; Construction","text":"<ul> <li>3D printing, carbon fibre, FR4</li> </ul>"},{"location":"outline-contents/#wheel-design","title":"Wheel Design","text":"<ul> <li>Diameter, grip, inertia</li> </ul>"},{"location":"outline-contents/#gearboxes-direct-drive","title":"Gearboxes &amp; Direct Drive","text":""},{"location":"outline-contents/#weight-distribution-centre-of-gravity","title":"Weight Distribution &amp; Centre of Gravity","text":""},{"location":"outline-contents/#part-v-motion-control","title":"Part V \u2014 Motion Control","text":""},{"location":"outline-contents/#kinematics-of-differential-drive","title":"Kinematics of Differential Drive","text":"<ul> <li>Speed, acceleration, turning</li> </ul>"},{"location":"outline-contents/#pid-control","title":"PID Control","text":"<ul> <li>Tuning strategies</li> <li>Feedforward terms</li> </ul>"},{"location":"outline-contents/#trajectory-generation","title":"Trajectory Generation","text":"<ul> <li>For line followers</li> <li>For micromouse (straight, diagonal, turns)</li> </ul>"},{"location":"outline-contents/#motor-characterisation","title":"Motor Characterisation","text":"<ul> <li>Back\u2011EMF</li> <li>Stall current</li> <li>PWM strategies</li> </ul>"},{"location":"outline-contents/#part-vi-navigation-algorithms","title":"Part VI \u2014 Navigation &amp; Algorithms","text":""},{"location":"outline-contents/#maze-representation","title":"Maze Representation","text":"<ul> <li>Cells, walls, bitfields</li> </ul>"},{"location":"outline-contents/#mapping","title":"Mapping","text":"<ul> <li>Flood\u2011fill</li> <li>Distance transforms</li> <li>Wall\u2011following</li> </ul>"},{"location":"outline-contents/#path-planning","title":"Path Planning","text":"<ul> <li>Shortest path</li> <li>Speed\u2011optimised path</li> </ul>"},{"location":"outline-contents/#state-estimation","title":"State Estimation","text":"<ul> <li>Odometry</li> <li>Sensor fusion</li> <li>Drift management</li> </ul>"},{"location":"outline-contents/#part-vii-firmware-architecture","title":"Part VII \u2014 Firmware Architecture","text":""},{"location":"outline-contents/#realtime-structure","title":"Real\u2011Time Structure","text":"<ul> <li>Main loop vs RTOS</li> <li>Interrupt design</li> </ul>"},{"location":"outline-contents/#modular-code-organisation","title":"Modular Code Organisation","text":"<ul> <li>Drivers</li> <li>Control loops</li> <li>Navigation logic</li> </ul>"},{"location":"outline-contents/#testing-simulation","title":"Testing &amp; Simulation","text":"<ul> <li>Unit testing</li> <li>Maze simulators</li> <li>Logging and telemetry</li> </ul>"},{"location":"outline-contents/#part-viii-building-debugging-and-iteration","title":"Part VIII \u2014 Building, Debugging, and Iteration","text":""},{"location":"outline-contents/#prototyping-workflow","title":"Prototyping Workflow","text":"<ul> <li>Breadboard \u2192 PCB \u2192 revision cycles</li> </ul>"},{"location":"outline-contents/#common-failure-modes","title":"Common Failure Modes","text":"<ul> <li>Electrical noise</li> <li>Sensor misalignment</li> <li>Motor imbalance</li> </ul>"},{"location":"outline-contents/#debugging-techniques","title":"Debugging Techniques","text":"<ul> <li>Oscilloscope use</li> <li>Capturing sensor waveforms</li> <li>Motor current monitoring</li> </ul>"},{"location":"outline-contents/#competition-preparation","title":"Competition Preparation","text":"<ul> <li>Calibration routines</li> <li>Battery management</li> <li>Reliability checks</li> </ul>"},{"location":"outline-contents/#part-ix-advanced-topics","title":"Part IX \u2014 Advanced Topics","text":""},{"location":"outline-contents/#highperformance-micromouse","title":"High\u2011Performance Micromouse","text":"<ul> <li>High\u2011speed turns</li> <li>Diagonal movement</li> <li>Dynamic speed control</li> </ul>"},{"location":"outline-contents/#advanced-linefollower-techniques","title":"Advanced Line\u2011Follower Techniques","text":"<ul> <li>Multi\u2011sensor arrays</li> <li>High\u2011speed cornering</li> </ul>"},{"location":"outline-contents/#custom-electronics","title":"Custom Electronics","text":"<ul> <li>Designing your own motor drivers</li> <li>Custom sensor boards</li> </ul>"},{"location":"outline-contents/#machine-learning-optional","title":"Machine Learning (Optional)","text":"<ul> <li>Line classification</li> <li>Predictive control</li> </ul>"},{"location":"outline-contents/#part-x-appendices","title":"Part X \u2014 Appendices","text":""},{"location":"outline-contents/#reference-designs","title":"Reference Designs","text":"<ul> <li>Example schematics</li> <li>PCB layouts</li> </ul>"},{"location":"outline-contents/#component-selection-guides","title":"Component Selection Guides","text":"<ul> <li>LEDs, photodiodes, motors, MCUs</li> </ul>"},{"location":"outline-contents/#datasheet-interpretation","title":"Datasheet Interpretation","text":""},{"location":"outline-contents/#mathematical-tools","title":"Mathematical Tools","text":"<ul> <li>PID derivations</li> <li>Kinematic equations</li> <li>Flood\u2011fill math</li> </ul>"},{"location":"readme/","title":"Readme","text":"<p>Some notes about micromouse and line follower robots.</p> <p>This is the main index page. It should be the default landing page.</p> <p>In time, this  may become a reference source for designers and builders of these, and similar, robots.</p>"},{"location":"readme/#welcome-to-mkdocs","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"readme/#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"readme/#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"readme/#outline","title":"Outline","text":""},{"location":"readme/#authors-guide","title":"Authors Guide","text":"<p>This guide provides an overview of the key formatting tools and features available to authors contributing to this documentation site.</p>"},{"location":"template/","title":"Placeholder","text":"<p>This page intentionally blank</p> <p>Sections to illustrate the TOC feature</p>"},{"location":"template/#section-1","title":"Section 1","text":"<p>Brick quiz whangs jumpy veldt fox. Bright vixens jump; dozy fowl quack. Quick wafting zephyrs vex bold Jim. Quick zephyrs blow, vexing daft Jim.</p>"},{"location":"template/#sub-11","title":"Sub 1.1","text":"<p>Brick quiz whangs jumpy veldt fox. Bright vixens jump; dozy fowl quack. Quick wafting zephyrs vex bold Jim. Quick zephyrs blow, vexing daft Jim.</p>"},{"location":"authors/","title":"Guidelines and examples for page authors","text":"<p>Material for mkdocs is very flexible and can be used to greatly enhance your document content.</p>"},{"location":"authors/code-blocks/","title":"Code blocks","text":"<p>Code blocks and examples are an essential part of technical project documentation. Material for MkDocs provides an easy method to provide syntax highlighted bolck of source during build time using Pygments.</p>"},{"location":"authors/code-blocks/#usage","title":"Usage","text":"<p>Code blocks must be enclosed with two separate lines containing three backticks. To add syntax highlighting to those blocks, add the language shortcode directly after the opening block. See the list of available lexers to find the shortcode for a given language:</p> <p>Page source for simple code block<pre><code>``` py\nimport tensorflow as tf\n```\n</code></pre> Is displayed as:</p> <pre><code>import tensorflow as tf\n</code></pre>"},{"location":"authors/code-blocks/#providing-alternatives","title":"Providing alternatives","text":"<p>You can place different language versions of your code in separate tabs to  provide choice for the reader without taking up excessive space on the page.</p> <p>Here are five code blocks that show how to output the integers from 0 to 100.</p> CC++PythonBasicForth <pre><code>#include &lt;stdio.h&gt;\n\nint main() {\n    for (int i = 0; i &lt;= 100; i++) {\n        printf(\"%d\\n\", i);\n    }\n    return 0;\n}\n</code></pre> <pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n    for (int i = 0; i &lt;= 100; i++) {\n        cout &lt;&lt; i &lt;&lt; endl;\n    }\n    return 0;\n}\n</code></pre> <pre><code>for i in range(101):\n    print(i)\n</code></pre> <pre><code>FOR I = 0 TO 100\n    PRINT I\nNEXT I\n</code></pre> <pre><code>101 0 DO\n  I .\nLOOP\n</code></pre>"},{"location":"authors/code-blocks/#adding-a-title","title":"Adding a title","text":"<p>To provide additional context, a custom title can be added to a code block by using the <code>title=\"&lt;custom title&gt;\"</code> option directly after the shortcode, e.g. to display the name of a file:</p> <p>Page source for code block with title<pre><code>``` py title=\"bubble_sort.py\"\ndef bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n```\n</code></pre> Is displayed as:</p> bubble_sort.py<pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre>"},{"location":"authors/code-blocks/#adding-line-numbers","title":"Adding line numbers","text":"<p>Line numbers can be added to a code block by using the <code>linenums=\"&lt;start&gt;\"</code> option directly after the shortcode, whereas <code>&lt;start&gt;</code> represents the starting line number. A code block can start from a line number other than <code>1</code>, which allows to split large code blocks for readability:</p> <p>Page source for code block with line numbers<pre><code>``` py linenums=\"1\"\ndef bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n```\n</code></pre> Is displayed as:</p> <pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre>"},{"location":"authors/code-blocks/#code-copy-and-select-buttons","title":"Code copy and select buttons","text":"<p>Code blocks normally render a pair button on the right side to allow the user to copy a code block's contents to the clipboard. </p> <pre><code># Code block content has a copy button\n  for (int a = 0; a &lt; 100; a++){\n    total += a;\n  }\n</code></pre> <p>Note that there must be a language shortcode, which  has to come first and must also be prefixed by a <code>.</code>. Similarly,  the copy and select buttons can also be disabled for a specific code block:</p> <p><pre><code># Code block content has no copy button\n  for (int a = 0; a &lt; 100; a++){\n    total += a;\n  }\n</code></pre> To enable or disable the copy button without syntax highlighting, you also can use the <code>.text</code> language shortcode, which doesn't highlight anything.    </p> <pre><code>  this has\n  no copy\n  button\n</code></pre>"},{"location":"authors/code-blocks/#highlighting-specific-lines","title":"Highlighting specific lines","text":"<p>Specific lines can be highlighted by passing the line numbers to the <code>hl_lines</code> argument placed right after the language shortcode. Note that line counts start at <code>1</code>, regardless of the starting line number specified as part of <code>linenums</code>. You can highlight individual lines or a range of lines</p> LinesLine ranges Code block with highlighted lines<pre><code>``` py hl_lines=\"3 5\"\ndef bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n```\n</code></pre> <pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre> Code block with highlighted line range<pre><code>``` py hl_lines=\"3-5\"\ndef bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n```\n</code></pre> <pre><code>def bubble_sort(items):\n    for i in range(len(items)):\n        for j in range(len(items) - 1 - i):\n            if items[j] &gt; items[j + 1]:\n                items[j], items[j + 1] = items[j + 1], items[j]\n</code></pre>"},{"location":"authors/code-blocks/#highlighting-inline-code-blocks","title":"Highlighting inline code blocks","text":"<p>Syntax highlighting can be applied to inline code blocks by prefixing them with a shebang, i.e. <code>#!</code>, directly followed by the corresponding language shortcode.</p> Page source for an inline code block<pre><code>The `#!python range()` function is used to generate a sequence of numbers.\n</code></pre> <p>The <code>range()</code> function is used to generate a sequence of numbers.</p>"},{"location":"authors/content-tabs/","title":"Content tabs","text":"<p>Sometimes, it's desirable to group alternative content under different tabs, e.g. when illustrating some function written in different programming languages.  Material for MkDocs allows for beautiful and functional tabs, grouping code blocks  and other content.</p> redgreenblue <p>This is red stuff. It must be indented by 4 spaces</p> <p>This is green stuff. It too must be indented by 4 spaces</p> <p>This is blue stuff. Always indent the content by 4 spaces</p>"},{"location":"authors/content-tabs/#usage","title":"Usage","text":""},{"location":"authors/content-tabs/#basic-tabs","title":"Basic tabs","text":"<p>Tab names/titles follow a marker like <code>=== Tab Title</code>. Always indent the tab content by four spaces. The three tabs above were created with this markdown <pre><code>=== \"red\" \n    This is red stuff. It must be indented by 4 spaces\n\n=== \"green\" \n    This is green stuff. It too must be indented by 4 spaces\n\n=== \"blue\" \n    This is blue stuff. Always indent the content by 4 spaces\n</code></pre></p>"},{"location":"authors/content-tabs/#grouping-code-blocks","title":"Grouping code blocks","text":"<p>Code blocks are one of the common targets to be grouped:</p> Markup for tabs with code blocks<pre><code>=== \"C\"\n\n    ``` c\n    #include &lt;stdio.h&gt;\n\n    int main(void) {\n      printf(\"Hello world!\\n\");\n      return 0;\n    }\n    ```\n\n=== \"C++\"\n\n    ``` c++\n    #include &lt;iostream&gt;\n\n    int main(void) {\n      std::cout &lt;&lt; \"Hello world!\" &lt;&lt; std::endl;\n      return 0;\n    }\n    ```\n</code></pre> <p>Produces</p> CC++ <pre><code>#include &lt;stdio.h&gt;\n\nint main(void) {\n  printf(\"Hello world!\\n\");\n  return 0;\n}\n</code></pre> <pre><code>#include &lt;iostream&gt;\n\nint main(void) {\n  std::cout &lt;&lt; \"Hello world!\" &lt;&lt; std::endl;\n  return 0;\n}\n</code></pre>"},{"location":"authors/content-tabs/#grouping-other-content","title":"Grouping other content","text":"<p>Content tabs can contain arbitrary content. Just be sure to indent the  content by 4 spaces:</p> Content tabs<pre><code>=== \"Unordered list\"\n\n    * Sed sagittis eleifend rutrum\n    * Donec vitae suscipit est\n    * Nulla tempor lobortis orci\n\n=== \"Ordered list\"\n\n    1. Sed sagittis eleifend rutrum\n    2. Donec vitae suscipit est\n    3. Nulla tempor lobortis orci\n\n=== \"Equation\"\n\n     $\\begin{align}\n     2x +   y   \u2212   2z  &amp;=  3   \\\\\\\n     x  \u2212   y   \u2212   z    &amp;= 0   \\\\\\\n     x  +   y   +   3z   &amp;= 12\n     \\end{align}$\n\n=== \"Image\"\n\n     ![llk](../assets/pie-chart-thumbnail.png)    \n\n=== \"Table\"\n\n    | Method      | Description                          |\n    | ----------- | ------------------------------------ |\n    | `GET`       | :material-check:     Fetch resource  |\n    | `PUT`       | :material-check-all: Update resource |\n    | `DELETE`    | :material-close:     Delete resource |     \n</code></pre> <p>Produces</p> Unordered listOrdered listEquationsImageTable <ul> <li>Sed sagittis eleifend rutrum</li> <li>Donec vitae suscipit est</li> <li>Nulla tempor lobortis orci</li> </ul> <ol> <li>Sed sagittis eleifend rutrum</li> <li>Donec vitae suscipit est</li> <li>Nulla tempor lobortis orci</li> </ol> <p>\\(\\begin{align}  2x +   y   \u2212   2z  &amp;=  3   \\\\\\  x  \u2212   y   \u2212   z    &amp;= 0   \\\\\\  x  +   y   +   3z   &amp;= 12  \\end{align}\\)</p> <p></p> Method Description <code>GET</code>      Fetch resource <code>PUT</code>  Update resource <code>DELETE</code>      Delete resource"},{"location":"authors/content-tabs/#embedded-content","title":"Embedded content","text":"<p>Not only can content tabs can contain arbitrary nested content,  including further content tabs, they can be nested in other blocks  like [admonitions] or blockquotes:</p> Content tabs in an admonition block<pre><code>!!! example\n\n    === \"Unordered List\"\n\n        ``` markdown\n        * Sed sagittis eleifend rutrum\n        * Donec vitae suscipit est\n        * Nulla tempor lobortis orci\n        ```\n\n    === \"Ordered List\"\n\n        ``` markdown\n        1. Sed sagittis eleifend rutrum\n        2. Donec vitae suscipit est\n        3. Nulla tempor lobortis orci\n        ```\n</code></pre> <p>Example</p> Unordered ListOrdered List <pre><code>* Sed sagittis eleifend rutrum\n* Donec vitae suscipit est\n* Nulla tempor lobortis orci\n</code></pre> <pre><code>1. Sed sagittis eleifend rutrum\n2. Donec vitae suscipit est\n3. Nulla tempor lobortis orci\n</code></pre>"},{"location":"authors/diagrams/","title":"Diagrams","text":"<p>Diagrams can be a valuable addition to your documentation, helping to  clarify otherwise complicated ideas and relationships. This site makes use of Mermaid.js, a popular and flexible  solution for drawing diagrams, if a little clunky at times</p> Limitations <p>While all Mermaid.js features should work out-of-the-box, Material for MkDocs will currently only adjust the fonts and colors for flowcharts, sequence diagrams, class diagrams, state diagrams and entity relationship diagrams. See the section on [other diagrams] for more information why this is currently not implemented for all diagrams.</p>"},{"location":"authors/diagrams/#usage","title":"Usage","text":""},{"location":"authors/diagrams/#flowcharts","title":"Flowcharts","text":"<p>Flowcharts are diagrams that represent workflows or processes. The steps are rendered as nodes of various kinds and are connected by edges, describing the necessary order of steps. Flowcharts can be drawn top-to-bottom or left-to-right. The only difference is the direction directive:</p> <p>Flow chart</p> Top DownLeft To Right <pre><code>    ``` mermaid\n    flowchart TD\n        ReadMe[Documentation] --&gt; Guides[Guides]\n        ReadMe --&gt; API[API]    \n        Guides --&gt; Editor[UI]\n        API --&gt; APIREF[Reference]\n        API --&gt; APIEXAMPLE[Examples]\n    ```\n</code></pre> <pre><code>    ``` mermaid\n    flowchart LR\n        ReadMe[Documentation] --&gt; Guides[Guides]\n        ReadMe --&gt; API[API]    \n        Guides --&gt; Editor[UI]\n        API --&gt; APIREF[Reference]\n        API --&gt; APIEXAMPLE[Examples]\n    ```\n</code></pre> <pre><code>flowchart TD\n    ReadMe[Documentation] --&gt; Guides[Guides]\n    ReadMe --&gt; API[API]\n    Guides --&gt; Editor[UI]\n    API --&gt; APIREF[Reference]\n    API --&gt; APIEXAMPLE[Examples]</code></pre> <pre><code>flowchart LR\n    ReadMe --&gt; API[API]\n    ReadMe[Documentation] --&gt; Guides[Guides]\n    Guides --&gt; Editor[UI]\n    API --&gt; APIREF[Reference]\n    API --&gt; APIEXAMPLE[Examples]</code></pre>"},{"location":"authors/diagrams/#sequence-diagrams","title":"Sequence diagrams","text":"<p>Sequence diagrams are used to illustrate the interactions between  entities, including the passing of messages or changes in state. This diagram shows how data is transferred between master and slave SPI devices.</p> Sequence diagram<pre><code>``` mermaid\nsequenceDiagram\n    participant Master\n    participant Slave\n\n    Master-&gt;&gt;Slave: SS low (select slave)\n    Master-&gt;&gt;Slave: Send MOSI byte (clocked)\n    Slave--&gt;&gt;Master: Return MISO byte (simultaneous)\n    Master-&gt;&gt;Slave: SS high (end transaction)\n```\n</code></pre> <pre><code>sequenceDiagram\n    participant Master\n    participant Slave\n\n    Master-&gt;&gt;Slave: SS low (select slave)\n    loop Byte 1..N\n        Master-&gt;&gt;Slave: MOSI byte[i] (clocked)\n        Slave--&gt;&gt;Master: MISO byte[i] (simultaneous)\n    end\n    Master-&gt;&gt;Slave: SS high (end transaction)</code></pre> <pre><code>sequenceDiagram\n    participant Master\n    participant Slave\n\n    Master-&gt;&gt;Slave: SS low (select slave)\n    loop Byte 1..N\n        Master-&gt;&gt;Slave: MOSI byte[i] (clocked)\n        Slave--&gt;&gt;Master: MISO byte[i] (simultaneous)\n    end\n    Master-&gt;&gt;Slave: SS high (end transaction)\n</code></pre>"},{"location":"authors/diagrams/#state-diagrams","title":"State diagrams","text":"<p>[State diagrams] are great for showing how the various states of a system are reached as a consequence of the permitted actions. Mermaid is not really very good at state diagrams - especially where there are tactions that lead back to the same state. Consider this button debouncer updated at some fixed debounce  interval:</p> State diagram<pre><code>``` mermaid\nstateDiagram-v2\n    [*] --&gt; Released\n    Released --&gt; Pressing : HIGH\n    Pressing --&gt; Pressed : HIGH\n    Pressing --&gt; Released : LOW\n\n    Pressed --&gt; Releasing : LOW\n    Releasing --&gt; Pressed : HIGH\n    Releasing --&gt; Released : LOW\n```\n</code></pre> <pre><code>stateDiagram-v2 \n    [*] --&gt; Released\n\n    Released --&gt; Pressing : HIGH\n    Pressing --&gt; Pressed : HIGH\n    Pressing --&gt; Released : LOW\n\n    Pressed --&gt; Releasing : LOW\n    Releasing --&gt; Pressed : HIGH\n    Releasing --&gt; Released : LOW\n</code></pre>"},{"location":"authors/diagrams/#other-diagram-types","title":"Other diagram types","text":"<p>Material for MkDocs also supports Class diagrams and Entiyty-Relationship diagrams.</p> <p>Besides the diagram types listed above, Mermaid.js provides support for pie charts, gantt charts, user journeys, git graphs and requirement diagrams, all of which are not officially supported by Material for MkDocs. Those diagrams should still work as advertised by Mermaid.js, but we don't consider them a good choice, mostly as they don't work well on mobile.</p>"},{"location":"authors/images/","title":"Placing Images","text":"<p>A good picture is often a great benefit to an article. These are easy enough to add to any markdown document by using an entry like this for an externally stored image:</p> <p><code>![Alt Text](Image Location \"Image Title\")</code></p> <p>Where you replace the <code>Alt Text</code> with some appropriate text to be used by screenreaders or as a fallback in case the image fails to load. Search engines also use the <code>Alt Text</code> when  indexing pages. The <code>Image Location</code> is any valid path or URL for the image file.  The <code>Image Title</code> is optional and will normally only appear when you hover  the mouse over the image.</p>"},{"location":"authors/images/#remote-images","title":"Remote Images","text":"<p>This image is a randomly selected placeholder from the Lorem Picsum site</p> <p><code>![random image](https://picsum.photos/id/237/640/200 \"Random Image\" )</code> </p> <p>Leave an empty line before and after the image to ensure that the image lives in a pargraph on its own. Images default to being left-aligned. An image that is wider than the available  space will be scaled down to fit.  The pages generated by Material for MkDocs are responsive  so it is not, in general, possible to select an image size that will exactly fill the space  unless you just make it very big.</p>"},{"location":"authors/images/#local-images","title":"Local Images","text":"<p>For images stored locally on the site, use a path that is relative to the docs folder in the repository. That is the folder that  source documents live in so, if you are working on a document  in a folder inside that, you might use a path like this</p> <p><code>![Alt Text](../assets/placeholder-640x300.jpg \"A locally stored image\")</code> </p>"},{"location":"authors/images/#captions","title":"Captions","text":"<p>Although markdown has no provision for captions, Material for MkDocs has an alternative syntax that will get he job done. The caption will be centred below the image</p> <pre><code>![Alt Text](../assets/placeholder-640x100.jpg)`\n/// caption\nThe Image Caption\n///\n</code></pre> <p></p> <p>The Image Caption</p> <p>Any text you place between the <code>/// caption</code> and <code>///</code> lines will appear as a centre aligned caption  below the image.</p> <p>You  will see that this has the interesting side-effect of making the image aligned to the centre of the page content area. In fact, this appears to be one of the easiest ways to centre an image. Simply add the caption markup but without the actual caption text. </p>"},{"location":"authors/images/#alignment","title":"Alignment","text":"<p>There are two options provided for aligning images to the left or right of the text allowing text to  flow around the image.</p>"},{"location":"authors/images/#left-aligned","title":"Left aligned","text":"<p><code>![Alt Text](../assets/tiger-100x90.png){ align=left }</code></p> <p> Place the Image before the text. This makes the image float left with any subsequent text flowing  around the image. This may be what you want but you may prefer an image with a short piece of text  beside it and with the remaining text starting underneath in a new paragraph. The usual method of leaving a blank line to start a new paragraph will not work here and you will need to use some basic css to clear the float. </p> <p>Sommething like this: <pre><code>![Alt Text](../assets/tiger-100x90.png){ align=left }\n&lt;br&gt;Cute Cat!\n&lt;div style=\"clear: both;\"&gt;&lt;/div&gt;\n</code></pre> I have been waiting some time for my dinner and, frankly, enough is enough.</p> <p>Now we are on a new line in a fresh paragraph.</p>"},{"location":"authors/images/#right-aligned","title":"Right Aligned","text":"<p>Everything that applies to left-aligned images also works with right aligned images. You  just replace <code>align=left</code> with <code>align=right</code></p> <p><pre><code>![Alt Text](../assets/tiger-100x90.png){ align=right }\n&lt;br&gt;Cute Cat!\n&lt;div style=\"clear: both;\"&gt;&lt;/div&gt;\n</code></pre> So, how about some food? You won't like me when I am hungry.</p>"},{"location":"authors/lists/","title":"Lists","text":"<p>You should already have seen how to do basic ordered and unordered lists in the styling  your docs page.</p> <p>Besides those, you can also create definition lists and task lists.</p>"},{"location":"authors/lists/#definition-lists","title":"Definition Lists","text":"<p>Lists of arbitrary key-value pairs, e.g. the parameters of functions or  modules, can be enumerated with a simple syntax. If your definition has more than one  paragraph, be sure to indent it by four or more spaces.</p> <p>Notice that you can style the terms or leave them plain</p> Definition list<pre><code>**Negative Feedback**\n\n:   Negative feedback is a regulatory process in which a system responds to a \nchange by initiating actions that counteract or reduce that change, helping \nmaintain stability.\n\n    It is when a system notices things getting out of hand and calmly says, \n\u201cAlright, let\u2019s dial it back before this turns into a whole situation.\u201d\n\n\n**Positive Feedback**\n\n:   Positive feedback is a process in which a change in a system triggers \n    responses that amplify or reinforce that change, driving the system \n    further in the same direction.\n\n    It is when a system gets excited about a change and says, \u201cYes, \n    more of that, please,\u201d until things spiral gloriously out of hand.\n</code></pre> Negative Feedback <p>Negative feedback is a regulatory process in which a system responds to a  change by initiating actions that counteract or reduce that change, helping  maintain stability.</p> <p>It is when a system notices things getting out of hand and calmly says,  \u201cAlright, let\u2019s dial it back before this turns into a whole situation.\u201d</p> Positive Feedback <p>Positive feedback is a process in which a change in a system triggers  responses that amplify or reinforce that change, driving the system  further in the same direction.</p> <p>It is when a system gets excited about a change and says, \u201cYes,  more of that, please,\u201d until things spiral gloriously out of hand.</p>"},{"location":"authors/lists/#task-lists","title":"Task Lists","text":"<p>You may want a list of tasks with some way to indicate which ones are complete or have some other distinct status. To do that, create an  unordered list and prefix each entry with <code>[ ]</code> to render an unchecked  checkbox or <code>[x]</code> to render a checked checkbox.</p> <p>These lists can be nested if you wish.</p> Task list<pre><code>- [x] Assemble the primary chassis and mount the drive motors\n- [ ] Integrate the control electronics and verify power distribution\n    * [x] Flash the microcontroller with the base firmware\n    * [x] Test sensor inputs for correct voltage and signal stability\n    * [ ] Calibrate the IMU and update the configuration file\n- [ ] Implement obstacle\u2011avoidance logic and run a full movement test\n</code></pre> <ul> <li> Assemble the primary chassis and mount the drive motors</li> <li> Integrate the control electronics and verify power distribution<ul> <li> Flash the microcontroller with the base firmware</li> <li> Test sensor inputs for correct voltage and signal stability</li> <li> Calibrate the IMU and update the configuration file</li> </ul> </li> <li> Implement obstacle\u2011avoidance logic and run a full movement test</li> </ul>"},{"location":"authors/mathjax/","title":"Mathjax support","text":"<p>Markdown pages like this one can include specially crafted section hat will be rendered as mathematical expressions. these are based on the well established \\(\\LaTeX\\) standards.</p> <p>To do this, you simply surround your mathematical expressions with special symbols and the browser takes care of the rest. Different setups use different marker symbols but this document uses the $ symbol.</p> <p>A number of examples are shown below for easy reference.</p> <p>Further references:</p> <ul> <li>https://www.cmor-faculty.rice.edu/~heinken/latex/symbols.pdf</li> <li>https://kapeli.com/cheat_sheets/LaTeX_Math_Symbols.docset/Contents/Resources/Documents/index</li> </ul>"},{"location":"authors/mathjax/#inline-expressions","title":"Inline Expressions","text":"<p>To insert an expression within a line of text, enclose it in single dollar signs (<code>$</code>). This is handy for simple expressions like \\(\\sqrt{3x-1}+(1+x)^2\\) or the use of greek letters like \\(\\pi\\).</p> <ul> <li>Markdown: <code>The equation is $E = mc^2$ for any mass $m$.</code></li> <li>Appearance: The equation is \\(E = mc^2\\) for any mass \\(m\\).</li> <li>More complex equations can be put inline if you want: \\(x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}\\)</li> </ul> <p>NOTE: you may need to escape the dollar symbol, $34.67,  to use it outside of maths if it appears in a pair.</p>"},{"location":"authors/mathjax/#display-equations","title":"Display Equations","text":"<p>To display a large, complex equation on its own line, centered, enclose it in double dollar signs (<code>$$</code>).</p> <pre><code>$$\nx = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}\n$$\n</code></pre>    $$   x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}   $$"},{"location":"authors/mathjax/#numbered-equations","title":"Numbered equations","text":"<p>If you want equations to be tagged with a reference, that will need to be done manually because  the mathjax support seems limited. Tags are not automatically sequenced. On the other hand, you can choose whatever you like:</p> <pre><code>$$\n   d = \\sqrt{b^2 - 4ac}   \\tag{1}\n$$\n</code></pre>    $$      d = \\sqrt{b^2 - 4ac}   \\tag{1}   $$"},{"location":"authors/mathjax/#subscriptssuperscripts","title":"Subscripts/Superscripts:","text":"<ul> <li><code>x_i</code>      -&gt; \\(x_{i}\\) </li> <li><code>x^2</code>      -&gt; \\(x^2\\) </li> <li><code>x_{i+1}</code>  -&gt; \\(x_{i+1}\\) </li> <li><code>x^{y}</code>    -&gt; \\(x^{y}\\) </li> </ul>"},{"location":"authors/mathjax/#fractions","title":"Fractions:","text":"<ul> <li><code>\\frac{a}{b}</code> -&gt; \\(\\frac{a}{b}\\)</li> <li><code>\\dfrac{a}{b}</code> -&gt; \\(\\dfrac{a}{b}\\)</li> <li><code>y = {x+1 \\over x+2}</code> -&gt; \\(y = {x+1 \\over x+2}\\)</li> <li><code>y = \\frac{x+1}{x+2}</code> -&gt; \\(y = \\frac{x+1}{x+2}\\)</li> </ul>"},{"location":"authors/mathjax/#fonts","title":"Fonts","text":"<ul> <li>bold: <code>\\mathbf{x}</code> -&gt; \\(\\mathbf{x}\\)</li> <li>blackboard: <code>\\mathbb{R}</code> -&gt; \\(\\mathbb{RECTANGLE}\\)</li> <li>calligraphic <code>\\mathcal{C}</code> -&gt; \\(\\mathcal{Calligraphic}\\)</li> <li>Fractur: <code>\\mathfrak{g}</code> -&gt; \\(\\mathfrak{g}\\)</li> </ul>"},{"location":"authors/mathjax/#matrices","title":"Matrices","text":"<pre><code>  $$\n     \\begin{pmatrix}\n       1 &amp; 2 \\\\\\\n       3 &amp; 4 \n     \\end{pmatrix}\n  $$\n</code></pre>      $$        \\begin{pmatrix}          1 &amp; 2 \\\\\\          3 &amp; 4         \\end{pmatrix}     $$    <pre><code>  $$\n     \\begin{bmatrix}\n       1 &amp; 2 \\\\\\\n       3 &amp; 4 \n     \\end{bmatrix}\n  $$\n</code></pre>      $$        \\begin{bmatrix}          1 &amp; 2 \\\\\\          3 &amp; 4         \\end{bmatrix}     $$    <pre><code>  $$\n     \\begin{Bmatrix}\n       1 &amp; 2 \\\\\\\n       3 &amp; 4 \n     \\end{Bmatrix}\n  $$\n</code></pre>      $$        \\begin{Bmatrix}          1 &amp; 2 \\\\\\          3 &amp; 4         \\end{Bmatrix}     $$    <pre><code>  $$\n     \\begin{vmatrix}\n       1 &amp; 2 \\\\\\\n       3 &amp; 4 \n     \\end{vmatrix}\n  $$\n</code></pre>      $$        \\begin{vmatrix}          1 &amp; 2 \\\\\\          3 &amp; 4         \\end{vmatrix}     $$    <pre><code>  $$\n   \\begin{pmatrix}\n     1      &amp; a_1    &amp; \\cdots &amp; a_n    \\\\\\\n     1      &amp; b_1    &amp; \\cdots &amp; b_n    \\\\\\\n     \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\\\\n     1      &amp; z_1    &amp; \\cdots &amp; z_n    \\\\\\\n   \\end{pmatrix}\n  $$\n</code></pre>      $$    \\begin{pmatrix}      1      &amp; a_1    &amp; \\cdots &amp; a_n    \\\\\\      1      &amp; b_1    &amp; \\cdots &amp; b_n    \\\\\\      \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\\\      1      &amp; z_1    &amp; \\cdots &amp; z_n    \\\\\\    \\end{pmatrix}     $$"},{"location":"authors/mathjax/#align-and-group","title":"Align and group","text":""},{"location":"authors/mathjax/#aligned-on","title":"Aligned on \\(=\\)","text":"<pre><code>$$\n\\begin{align}\n  f(x)   &amp;= \\frac{x+1}{x-2} \\\\\\\n  f'(x)  &amp;= \\frac{(x-2) - (x+1)}{(x-2)^2} \\\\\\\n         &amp;= - \\frac{3}{x^2 - 4x + 4}\n\\end{align}\n$$\n</code></pre>    $$   \\begin{align}     f(x)   &amp;= \\frac{x+1}{x-2} \\\\\\     f'(x)  &amp;= \\frac{(x-2) - (x+1)}{(x-2)^2} \\\\\\            &amp;= - \\frac{3}{x^2 - 4x + 4}   \\end{align}   $$"},{"location":"authors/mathjax/#collected-equations","title":"collected equations:","text":"<pre><code>  $$\n  \\begin{cases}\n     2x   +   y   \u2212   2z  &amp;=  3   \\\\\\\n     x    \u2212   y   \u2212   z    &amp;= 0   \\\\\\\n     x    +   y   +   3z   &amp;= 12\n  \\end{cases}\n$$\n</code></pre>      $$     \\begin{cases}        2x   +   y   \u2212   2z  &amp;=  3   \\\\\\        x    \u2212   y   \u2212   z    &amp;= 0   \\\\\\        x    +   y   +   3z   &amp;= 12     \\end{cases}     $$    <pre><code>$$  f(n) =\n\\begin{cases}\n  \\dfrac{n+1}{2} &amp; \\text{if n is even} \\\\\\ \\\\\\\n  \\dfrac{n}{2}   &amp; \\text{if n is odd}\n\\end{cases}\n$$\n</code></pre>    $$  f(n) =    \\begin{cases}      \\dfrac{n+1}{2} &amp; \\text{if n is even} \\\\\\ \\\\\\      \\dfrac{n}{2}   &amp; \\text{if n is odd}    \\end{cases}    $$"},{"location":"authors/mathjax/#vectors","title":"Vectors","text":"<pre><code>$$ \\vec{u} + \\vec{v} = \\vec{w} $$\n</code></pre>    $$ \\vec{u} + \\vec{v} = \\vec{w} $$    <pre><code>$$ \\overrightarrow{AB} \\ge \\overrightarrow{AC} $$\n</code></pre>    $$ \\overrightarrow{AB} \\ge \\overrightarrow{AC} $$"},{"location":"authors/mathjax/#decorations","title":"Decorations","text":"<pre><code>$$ \n\\vec{i} \n\\hat{i} \n\\bar{i} \n\\dot{x} \n\\ddot{x} \n\\dddot{x} \n$$\n</code></pre>    $$    \\vec{i} \\\\\\   \\hat{i} \\\\\\   \\bar{i} \\\\\\   \\dot{x} \\\\\\   \\ddot{x} \\\\\\   \\dddot{x} $$"},{"location":"authors/mathjax/#other-constructs","title":"Other constructs","text":"<pre><code>$$ \\lim \\limits_{ x \\to 2^+ } { \\dfrac{x+1}{x-2} } $$\n</code></pre>    $$ \\lim \\limits_{ x \\to 2^+ } { \\dfrac{x+1}{x-2} } $$    <pre><code>$$ \\sum_{n=1}^\\infty \\frac{1}{n^2} $$\n</code></pre>    $$ \\sum_{n=1}^\\infty \\frac{1}{n^2} $$    <pre><code>$$\n\\int_0^\\infty e^{-x^2} dx = \\frac{\\sqrt{\\pi}}{2}\n$$\n</code></pre>    $$   \\int_0^\\infty e^{-x^2} dx = \\frac{\\sqrt{\\pi}}{2}   $$"},{"location":"authors/styling-your-docs/","title":"Styling Documents with Markdown","text":"<p>Although quite simple, markdown documents have a range of basic options  for styling. These include headings, line breaks, paragraphs, emphasis, blockquotes lists, code. rules and links</p>"},{"location":"authors/styling-your-docs/#headings","title":"Headings","text":"<p>Headings are created by starting the line with a number of <code>#</code> characters, followed  by a space. Use one for the top level heading, two for the second and so on. In  Material for MkDocs, the heading levels are used to create the Table Of Contents (TOC) that you see to the right of the page so plan accordingly and use headings as part  of the page navigation. Try ro restrict yourself to no more than four levels.  Keep the headings short to keep the TOC neat</p>"},{"location":"authors/styling-your-docs/#heading-3","title":"Heading 3","text":"<p>Nothing to see here</p>"},{"location":"authors/styling-your-docs/#heading-4","title":"Heading 4","text":"<p>Nothing here either</p>"},{"location":"authors/styling-your-docs/#paragraphs-and-line-breaks","title":"Paragraphs and Line Breaks","text":"<p>Normally markdown text is rendered as a continuous block even if the source has a new  line character or additional spaces. These are all counted as whitespace and reduced to a single space on the finished page.</p> <p>To start a new paragraph, you need to leave at least one blank line. Leaving more than one blank line does not increase the gap. Like the other whitespace, blank lines are condensed  down to one.</p> <p>Paragraphs are always rendered without a first line indent so don't add one. Indeed,  indenting text has a special meaning in markdown.</p> <p>Line breaks can be tricky. A single line break in the source markdown will be ignored. However, if you end a line with two or more spaces, a newline will be inserted. This can be a bit of a surprise if newlines are appearing in unexpected places or if you expect them but your text editor is in the habit of removing trailing spaces.</p> <p>To be explicit, you can force a new line with the <code>&lt;br&gt;</code> tag from HTML. In general, always prefer this explicit method so that your intent is clear.</p>"},{"location":"authors/styling-your-docs/#emphasis","title":"Emphasis","text":"<p>Emphasis</p> markup result <code>*italic text*</code> italic text <code>**bold text**</code> bold text <code>***bold italics***</code> bold italic"},{"location":"authors/styling-your-docs/#blockquotes","title":"Blockquotes","text":"<p>Blockquotes are used to provide emphasis for a paragraph or content block. To generate a blockquote, start the paragraph with a single <code>&gt;</code> followed by a space:</p> <p>There is no need to indent the text, it will be indented and highlighted automatically  when rendered. As with normal text, you need to use an empty line to move on to the  next, plain paragraph. If you need an empty line, use two linebreaks like this:  <code>&lt;br&gt;&lt;br&gt;</code> The normal line break methods work inside block quotes just fine. Always put a blannk line before and after a blockquote to ensure it is rendered as expected.</p> <p>You may see a recommendation to prefix each line in a blockquote with a <code>&gt;</code> character  but this is likely to cause problems when the page resizes. It is sometimes possible  to use blockquotes with other markup option. There is no real guarantee about what  will work correctly.</p>"},{"location":"authors/styling-your-docs/#lists","title":"Lists","text":"<p>You can have ordered and unordered lists. These are quite basic but easy enough to use:</p>"},{"location":"authors/styling-your-docs/#unordered-lists","title":"Unordered Lists","text":"<p>Start each entry on its own line with a <code>-</code> or <code>*</code> followed by a space</p> Markdown<pre><code>* Sed sagittis eleifend rutrum\n* Donec vitae suscipit est\n* Nulla tempor lobortis orci\n</code></pre> <ul> <li>Sed sagittis eleifend rutrum</li> <li>Donec vitae suscipit est</li> <li>Nulla tempor lobortis orci</li> </ul> <p>You can have a list within a list by indenting the sublist by four spaces. There is  no guarantee that the sublist will use different markers.</p> Markdown<pre><code>- Install the required software\n- Configure the project settings\n- Prepare the hardware components\n    - Connect the power supply\n    - Attach the sensor module\n    - Verify all cable connections\n- Run initial diagnostics\n- Review the system logs\n- Deploy the final build\n</code></pre> <ul> <li>Install the required software</li> <li>Configure the project settings</li> <li>Prepare the hardware components<ul> <li>Connect the power supply</li> <li>Attach the sensor module</li> <li>Verify all cable connections</li> </ul> </li> <li>Run initial diagnostics</li> <li>Review the system logs</li> <li>Deploy the final build</li> </ul>"},{"location":"authors/styling-your-docs/#ordered-lists","title":"Ordered Lists","text":"<p>These work just like unordered lists except that you start each line with a number  followed by a dot.  Topreserve your sanity, or not, items are sequentially numbered from 1 regardless of  what number you actually use. Ordered list can also have sublists. Sublists will restart their sequening but should use a different symbol - most likely a letter instead of a number.</p> Markdown<pre><code>1. Install the required software\n1. Configure the project settings\n1. Prepare the hardware components\n    1. Connect the power supply\n    1. Attach the sensor module\n    1. Verify all cable connections\n       (Carefully)\n1. Run initial diagnostics\n1. Review the system logs\n1. Deploy the final build\n</code></pre> <ol> <li>Install the required software</li> <li>Configure the project settings</li> <li>Prepare the hardware components<ol> <li>Connect the power supply</li> <li>Attach the sensor module</li> <li>Verify all cable connections    (carefully)</li> </ol> </li> <li>Run initial diagnostics</li> <li>Review the system logs</li> <li>Deploy the final build</li> </ol> <p>List items for both types of list can extend over more than one line by matching  the indent and omitting the start marker.</p>"},{"location":"authors/styling-your-docs/#code","title":"Code","text":"<p>There are many occasions when you do not want to have your source text interpreted or transformed  in any way. Most commonly, this is to allow the display of program source code. Markdown has a  number of ways to achieve this. First, you can use a single backtick character (`) around some text to make sure it is displayed as plain text. You might use this inside sentences to mark a variable name or menu option as plain text. </p> <p>For example, `main()` is displayed as <code>main()</code>.</p> <p>When you have several lines of code, you can construct a block by placing three backticks on a line, then your code and finally another three backticks to terminate the complete code block. Adding a  language type after the first set of backticks will enable syntax highlighting</p> Markdown<pre><code>   ``` C\n   int max_val(int* arr, int n) {\n     int max = arr[0];\n     for (int i = 1; i &lt; n; i++) {\n        if (arr[i] &gt; max) {\n            max = arr[i];\n        }\n     }\n     return max;\n   }\n   ```\n</code></pre> <pre><code>int max_val(int* arr, int n) {\n  int max = arr[0];\n  for (int i = 1; i &lt; n; i++) {\n      if (arr[i] &gt; max) {\n          max = arr[i];\n      }\n  }\n  return max;\n}\n</code></pre> <p>See the separate page on code blocks for more  examples</p>"},{"location":"authors/styling-your-docs/#horizontal-dividers","title":"Horizontal dividers","text":"<p>Sections of the page can be separated with a horizontal line if you place three hyphens together on a line of their own.</p> <p><code>---</code></p> <p>Produces a divider</p> <p>Like that</p>"},{"location":"authors/styling-your-docs/#links","title":"Links","text":"<p>Links to other pages or external content generally consist of two parts. The first part is  the text that will be displayed and must go inside square brackets. The second part is the  actual path or URL and it goes insde parentheses. You could link to Wikipedia for example like this:</p> <p><code>Wikipedia has an entry for [Markdown](https://en.wikipedia.org/wiki/Markdown)</code></p> <p>Wikipedia has an entry for Markdown </p> <p>Or you could just place the path or URL inside angle brackets like this:</p> <p><code>&lt;https://www.markdownguide.org&gt;</code></p> <p>https://www.markdownguide.org</p>"},{"location":"authors/tables/","title":"Data tables","text":"<p>While there are very few ways to align content in markdown, data tables are very easy to set up and use. Tables are rendered with a default style that has few customisation options.</p>"},{"location":"authors/tables/#usage","title":"Usage","text":"<p>Data tables can be used at any position in your project documentation and can contain arbitrary Markdown, including inline code blocks, as well as icons and emojis:</p> Data table<pre><code>| Method      | Description                          |\n| ----------- | ------------------------------------ |\n| `GET`       | :material-check:     Fetch resource  |\n| `PUT`       | :material-check-all: Update resource |\n| `DELETE`    | :material-close:     Delete resource |\n</code></pre> Method Description <code>GET</code>      Fetch resource <code>PUT</code>  Update resource <code>DELETE</code>      Delete resource"},{"location":"authors/tables/#column-alignment","title":"Column alignment","text":"<p>If you want to align a specific column to the <code>left</code>, <code>center</code> or <code>right</code>, you can use the regular Markdown syntax placing <code>:</code> characters at the beginning and/or end of the divider. </p> LeftCenterRight Data table, columns aligned to left<pre><code>| Method      | Description                          |\n| :---------- | :----------------------------------- |\n| `GET`       | :material-check:     Fetch resource  |\n| `PUT`       | :material-check-all: Update resource |\n| `DELETE`    | :material-close:     Delete resource |\n</code></pre> Method Description <code>GET</code>      Fetch resource <code>PUT</code>  Update resource <code>DELETE</code>      Delete resource Data table, columns centered<pre><code>| Method      | Description                          |\n| :---------: | :----------------------------------: |\n| `GET`       | :material-check:     Fetch resource  |\n| `PUT`       | :material-check-all: Update resource |\n| `DELETE`    | :material-close:     Delete resource |\n</code></pre> Method Description <code>GET</code>      Fetch resource <code>PUT</code>  Update resource <code>DELETE</code>      Delete resource Data table, columns aligned to right<pre><code>| Method      | Description                          |\n| ----------: | -----------------------------------: |\n| `GET`       | :material-check:     Fetch resource  |\n| `PUT`       | :material-check-all: Update resource |\n| `DELETE`    | :material-close:     Delete resource |\n</code></pre> Method Description <code>GET</code>      Fetch resource <code>PUT</code>  Update resource <code>DELETE</code>      Delete resource"},{"location":"authors/tables/#sortable-tables","title":"Sortable tables","text":"<p>This implementation of Material for MkDocs implements tablesort, which is natively integrated with Material for MkDocs. To make a table sortable, you will  need to add an inline JavaScript to the page source. This example identifies the  last table on the page and makes it sortable:</p> <pre><code>&lt;script src=\"https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  var tables = document.querySelectorAll(\"article table\")\n  new Tablesort(tables.item(tables.length - 1));\n&lt;/script&gt;\n</code></pre> <p>To identify a specific table, you can place it in an HTML DIV with an ID and then  have the script look for a table within that div</p> <p>This is how you write the table in the page source</p> The data table with a DIV ID<pre><code>&lt;div markdown id = \"elements\"&gt;\n| Element | Atomic Mass (u)  | Melting Point (\u00b0C)  |\n|---------|-----------------:|--------------------:|\n| Iron    | 55.845           | 1538                |\n| Copper  | 63.546           | 1085                |\n| Silicon | 28.085           | 1414                |\n| Gold    | 196.967          | 1064                |\n| Carbon  | 12.011           | 3550                |\n| Sodium  | 22.990           | 98                  |\n&lt;/div&gt;\n</code></pre> <p>And this is the script that will find it and make it sortable. Note that you only need  to link in the external script once but it must be done before any attempt to use it.</p> The javascript that makes it sortable<pre><code>&lt;script src=\"https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  var wrapper = document.querySelector(\"#elements\");\n  var table = wrapper.querySelector(\"table\");\n  new Tablesort(table);\n&lt;/script&gt;\n</code></pre> <p>And this is the result. The table can be sorted by clicking on a column header.</p> Element Atomic Mass (u) Melting Point (\u00b0C) Iron 55.845 1538 Copper 63.546 1085 Silicon 28.085 1414 Gold 196.967 1064 Carbon 12.011 3550 Sodium 22.990 98 <p>Note that tablesort provides alternative comparison implementations like numbers, filesizes, dates and month names. See the tablesort documentation for more information.</p>"},{"location":"authors/tables/#import-table-from-file","title":"Import table from file","text":"<p>The plugin mkdocs-table-reader-plugin allows you to import data from a CSV or Excel file.</p>"},{"location":"authors/template/","title":"Placeholder","text":"<p>This page intentionally blank</p> <p>Sections to illustrate the TOC feature</p>"},{"location":"authors/template/#section-1","title":"Section 1","text":"<p>Brick quiz whangs jumpy veldt fox. Bright vixens jump; dozy fowl quack. Quick wafting zephyrs vex bold Jim. Quick zephyrs blow, vexing daft Jim.</p>"},{"location":"authors/template/#sub-11","title":"Sub 1.1","text":"<p>Brick quiz whangs jumpy veldt fox. Bright vixens jump; dozy fowl quack. Quick wafting zephyrs vex bold Jim. Quick zephyrs blow, vexing daft Jim.</p>"},{"location":"authors/writing-your-docs/","title":"Writing your documentation","text":"<p>Writing the content is really just a question ot typing a load of text. </p> <p>For that, pretty well any text editor will do the trick. If you are writing  documentation for your code then use the same editor or IDE that you use for the code itself. </p> <p>The source text for our documents is plain ascii text that has some embellishments that let you use flexible formatting optionsfor creating headings, highlights, lists and many more features. All of this is achieved with simple sequences of plain text characters. For example the main heading of this page is recognised as a heading just because the line starts with a <code>#</code> character followed by a space.</p> <p>I can easily highlight a word just by placing a pair of <code>*</code> characters either  side. of it.</p> <p>Want a list? All you need is to start each line with <code>-</code> and you are done:</p> <ul> <li>Headings</li> <li>Highlights</li> <li>Lists</li> <li>... and many more</li> </ul> <p>That was made with this source text:</p> <pre><code>- Headings\n- Highlights\n- Lists\n- ... and many more\n</code></pre> <p>These features, and many more, are descriped in the rest of the pages in this section. Collectively, they are described as <code>markdown</code> and it is normal to crteate the source  pages with the <code>.md</code> extension to the file name/</p> <p>Markdown is very popular. On github, for example, you can write your <code>readme.md</code> file  for a repository using markdown and the github server will render it automatically for you.</p> <p>Find out more about markdown at </p> <ul> <li>https://www.markdownguide.org/</li> <li>Start Writing  on Github</li> </ul> <p>This site uses an extension called Material for MkDocs which extends the feature set considerably.</p>"},{"location":"authors/writing-your-docs/#editors","title":"Editors","text":"<p>Although you can use any text editor to create the source pages, some editors may provide  additional facilities to help with things like auto completion or automatic preview of the generated pages. I use VSCode because it handles pretty well anything and there are specific extensions for Markdown documents</p>"},{"location":"motors/30-00-motors/","title":"Motors and Actuators","text":"<p>This section covers the types of motors used in our robots, including their drivers and control systems.</p>"},{"location":"motors/30-20-dc-brushed/","title":"DC Brush Motors","text":"<p>Specifications, PWM control, and H-bridge considerations.</p>"},{"location":"motors/30-30-dc-brushless/","title":"Brushless DC (BLDC)","text":"<p>Focus on sensors, ESCs, and three-phase drive signals.</p>"},{"location":"motors/30-40-steppers/","title":"Stepper Motors","text":"<p>Details on micro-stepping, holding torque, and driver selection.</p>"},{"location":"motors/encoders/","title":"Wheel Encoders for Odometry","text":"<p>More is not necessarily better</p> <p>;adrkjh gf;sdkjfh glskjdfhg lsjdf kjhdljh</p> You can collapse this one <p>It will start out expanded because of the <code>+</code> in the markup (<code>???+</code>)</p> <p>A wonderful serenity has taken possession of my entire soul, like these sweet mornings of spring which I enjoy with my whole heart. I am alone, and feel the charm of existence in this spot, which was created for the bliss of souls like mine. </p> <p>Subscribe to our newsletter</p> <p>Subscribe to our newsletter</p> <p>Inlined admonition</p> <p>These must be defined BEFORE the paragraph in which they are placed</p> <p>I am so happy, my dear friend, so absorbed in the exquisite sense of mere tranquil existence, that I neglect my talents. I should be incapable of drawing a single stroke at the present moment; and yet I feel that I never was a greater artist than now. When, while the lovely valley teems with vapour around me, and the meridian sun strikes the upper surface of the impenetrable foliage of my trees, and but a few stray gleams steal into the inner sanctuary, I throw myself down among the tall grass by the trickling stream; and, as I lie close to the earth, a thousand unknown plants are noticed by me: when I hear the buzz of the little world among the stalks, and grow familiar with the countless indescribable forms of the insects and flies, then I feel the presence of the Almighty, who formed us in his own image, and the breath    </p> <p>Inlined admonition at right edge</p> <p>These must be defined BEFORE the paragraph in which they are placed</p> <p>I am so happy, my dear friend, so absorbed in the exquisite sense of mere tranquil existence, that I neglect my talents. I should be incapable of drawing a single stroke at the present moment; and yet I feel that I never was a greater artist than now. When, while the lovely valley teems with vapour around me, and the meridian sun strikes the upper surface of the impenetrable foliage of my trees, and but a few stray gleams steal into the inner sanctuary, I throw myself down among the tall grass by the trickling stream; and, as I lie close to the earth, a thousand unknown plants are noticed by me: when I hear the buzz of the little world among the stalks, and grow familiar with the countless indescribable forms of the insects and flies, then I feel the presence of the Almighty, who formed us in his own image, and the breath    </p>"},{"location":"sensors/","title":"Is this the default page for a section","text":""},{"location":"sensors/00-sensors-overview/","title":"Wall and Line Sensors for Your Robot","text":"<p>Whether you are building a line follower or a maze running robot, you are going to need some kind of sensors to detect the local environment. For maze-based micromouse robots and line-following robots, the working environment is very constrained so there is no real need to consider exotic, long-range sensing solutions. For both types of robot, it is possible to use quite simple reflected light sensors. Not only are these easy to design and construct, they are fast and reliable. Beginner and training robots may not be running around at great speed but competitive, high-performance robots can be travelling at speeds in excess of 5000mm/s. Even if measurements are taken 1000 times per second, the robot may have moved 5mm or more on the ground. Fortunately, the kinds of optical sensors described here are capable of producing readings in a very short period at high frequencies.</p>"},{"location":"sensors/00-sensors-overview/#micromouse-wall-sensors","title":"Micromouse Wall Sensors","text":""},{"location":"sensors/00-sensors-overview/#line-follower-sensors","title":"Line Follower Sensors","text":""},{"location":"sensors/basic-constant-current-drive/","title":"Basic Constant Current Drive for Sensor Emitters","text":""},{"location":"sensors/basic-constant-current-drive/#conventional-drive","title":"Conventional drive","text":"<p>In the section on switched emitter driving, one of the simplest working options looked like this:</p> <p></p> <p>Basic Bipolar Switched Emitter</p> <p>This configuration, with an IR LED, would work well in a typical classic micromouse with a 5 Volt supply voltage. However, in a half-size mouse there may not be a 5 Volts supply and so the available headroom for the LED supply becomes marginal. So marginal that the use of a visible light LED like the TLCR5800 is probably not possible at more than a fairly low current.</p> <p>It is likely tempting to connect the LED supply directly to the battery to get a somewhat higher voltage. but that causes another issue. As the robot runs around, the battery voltage will constantly change and with it, the LED output. If the LED output varies, so will the detector reading, regardless of the walls. </p> <p>What is needed is a way to keep the current through the LED constant even if the supply voltage changes.</p>"},{"location":"sensors/basic-constant-current-drive/#constant-current","title":"Constant current","text":"<p>There are many ways to create a constant current drive. Ideally, the current would be completely independent of VDD but, of course there will be some lower limit below which there will not be enough headroom to fully accommodate the forward voltage drop of the LEDs. These circuits vary in their complexity and effectiveness. With space at a premium, builders want a simple solution wherever possible.</p>"},{"location":"sensors/basic-constant-current-drive/#simple-solution","title":"Simple Solution","text":"<p>The resistor R8 in the previous circuit limits the current that can flow through the LEDs. It has no other purpose. Suppose, however, we place the current limit resistor on the emitter of the drive transistor instead of between the collector and the LED. </p> <p></p> <p>Simplest Current Regulation</p> <p>There are the same number of components and they have the same values (Q5 is a BC337-40) but now the circuit behaviour is very different.</p> <p>As current flows through the LEDs, the voltage at the emitter of Q5 will rise. If it rises enough so that it is within 0.7 Volts or so of the base, the transistor will begin to turn off and the current will reduce. There is, then, negative feedback in the circuit and the current is now controlled only by the emitter resistor, not the supply voltage. </p> <p>In this example, suppose the GPIO output is 3.3 Volts. If the emitter of Q5 gets to about 2.6 Volts, the circuit should start to be stable. That corresponds to a current of around 2.6/6.8 = 382mA. In practice, some current will flow from GPIO, through the resistor R8 and out of the emitter. Not much current - less than 1 mA depending on the gain of the transistor. So the total emitter current will include the base current and the collector current will be a little less. Not by much though - less than 2% typically.</p> <p>The high current requirement, if it can be achieved, will need somewhat more than the typical, rule-of-thumb - value 0.7 Volts for \\(V_{BE}\\). Probably more like 0.8V so the voltage across R8 will be around 2.5 Volts and the actual emitter current will be \\(2.5/6.8 = 360mA\\). Combined with the base current and other transistor effects, the actual current achievable through the LED will be a little lower still.</p> <p>So what? Well, notice that none of this reasoning has any mention of the supply Voltage. So long as there is enough supply voltage to provide the forward voltage drop of the LEDS, the voltage across the emitter resistor and a volt or so for linear transistor operation, the current should be constant and independent of the supply voltage. Here, anything above about 6.5 Volts will be enough to ensure correct circuit behaviour. That is a convenient number because it is around the voltage that corresponds to a pair of depleted LiPo cells.</p> <p>In summary, leaving at least one volt to ensure the transistor can operate in its linear mode:</p> \\[ V_{cap} &gt; V_{LED} + I . R_E + V_{CE(sat)} + 1 Volt \\] <p>The extra 1 Volt ensures linear operation. Remember that the resistor R11 reduces the average voltage value on the capacitor depending on the pulse duty cycle so \\(V_{cap}\\) is always somewhat less than \\(V_{supply}\\).</p> <p>It should be clear that an attempt to increase the current by reducing the value of the emitter resistor will increase the voltage drop across the LEDs, reducing the available headroom. Even so, it should be possible to get more than 250mA through the LEDs with a 6.5 Volt supply and good pulse shapes. You can double that if you increase the value of the storage capacitor and are happy to accept a pulse that begins to decay rapidly.</p> <p>Note that, because the transistor is operating in its linear region, it will dissipate a little more power than when operated as a switch. With the example parameters - 328mA for 25us out of every 1000us - the average power dissipation would be around 6mW. Even if the emitter gets stuck on, the protection resistor, R11 keeps everything safely limited.</p>"},{"location":"sensors/basic-constant-current-drive/#simulating-the-circuit","title":"Simulating the Circuit","text":"<p>Running this circuit through the simulator shows that the voltage on the capacitor, \\(V_{cap}\\) still takes just as long to get to a stable value but the LED current pulses stabilise well before that.</p> <p></p> <p>Basic Bipolar Regulation</p> <p>The pulses stabilise as soon as the capacitor voltage is high enough to provide adequate regulation by the transistor. As little as 4.5 Volts on the capacitor is enough and, at all voltages above that, the pulse shape is the same. Here is one of the stable pulses.</p> <p></p> <p>Single 328mA pulse from Basic Regulator</p> <p>It is clear that there is no droop and the current pulse is nice and constant. The current rises to the same value as in the switched case but is now sustained throughout the pulse as the transistor compensates for any droop in the capacitor voltage.</p>"},{"location":"sensors/basic-constant-current-drive/#testing-compliance","title":"Testing Compliance","text":"<p>Compliance is the ability of the circuit to provide a consistent current for a range of input voltages. The power-up data shown above imply that, as long as the supply voltage is greater than 4.5 Volts, regulation will be good. Just to illustrate the point, the simulation can be run again with the supply voltage set to 8.4 Volts, corresponding to a freshly charged 2S LiPo battery.</p> <p></p> <p>Basic Regulation With Higher Supply Voltage</p> <p>Exactly as before, the pulses stabilise quickly at the same level and remain unaffected by the supply voltage.</p>"},{"location":"sensors/basic-constant-current-drive/#sources-of-error","title":"Sources of error","text":"<p>This is not a precision current source. While it can compensate very well for variations in supply voltage, it is subject to some change in the \\(V_{BE}\\) behaviour with temperature and it will be affected by the actual voltage available from the GPIO pin.</p> <p>In fact, the LED current is proportional to the GPIO voltage. If, for example, the GPIO voltage is only 3 Volts, the voltage across R8 will be correspondingly lower and the LED current will be reduced. </p> <p>However, during normal operation of the processor you can be quite confident that the GPIO voltage will be stable enough for the purposes of this circuit. If it does change, that would be a sign that there may be some other problem in the rest of the robot circuits.</p> <p>Also, remember that the calculations will refer to typical devices and individual parts are subject to the normal tolerances.</p> <p>There are some modest sources of error or inaccuracy but overall, for its intended purpose, this circuit is a great improvement over a simple switched emitter. It makes for a simple solution to getting consistent and stable current pulses even with the use of unregulated supplies. In a micromouse robot, where the walls themselves can vary in reflectivity by several percent, it probably needs little or no improvement.</p> <p>When choosing a transistor for Q5, several types will do the job. Aim for something that can pass several hundred milliamps while still having a current gain of at least 100. The BC337-40 has proven reliable and is cheap and commonplace.</p>"},{"location":"sensors/basic-constant-current-drive/#circuit-protection","title":"Circuit Protection","text":"<p>The resistor R11 is there to ensure that the LED will not be destroyed if the emitter is left on because of a software fault. With the existing value of 100 Ohms and a freshly charged battery at 8.4 Volts, the maximum current that should flow through the LED is around 64mA which is well within the maximum permitted value of 100mA. REplacing the LED with a TLCR5800 will result in a slightly lower fault current of 57mA. This is more than the permitted 50mA and so, in that case, R11 should be increased to at least 12150 0 Ohms. This will reduce the available headroom somewhat and current pulses as high as 320mA will start to droop a few percent as the supply begins to approach 6.5 Volts.</p>"},{"location":"sensors/basic-constant-current-drive/#other-led-types","title":"Other LED types","text":"<p>All the calculations so far have been for  an IR LED like the SFH4550. If you wanted to use a high intensity visible type like TLCR5800, the only change will be the minimum supply voltage needed  ensure correct operation at the intended current. With the current still at 328mA, the TLCR5800 will need around 5.75 Volts on the capacitor before the pulses stabilise. That is still, just, possible with a supply voltage of 6.5 Volts but no less. That 6.5 Volts is the lowest that you should allow a 2S LiPo battery to operate at - certainly for more than a few seconds.</p> <p>Recall that most use cases in micromouse robots do not require LED currents to be that high unless your detector is a photodiode and you need to reduce the load resistance to better match the ADC input.</p>"},{"location":"sensors/basic-constant-current-drive/#possible-improvements","title":"Possible Improvements","text":"<p>Now that the LED current pulses are better regulated, it might be worth revisiting the reservoir capacitor calculation. Large value Tantalum capacitors are expensive and take up space so you might consider reducing the value. In this circuit, and still using 328mA pulses through a SFH4550 LED, the capacitor C3 can be reduced to as little as 10uF and still give good current pulses. The ripple on the \\(V_{cap}\\) voltage will be much greater and the circuit should still operate at the lower limit of the intended supply range. Because the transistor is regulating the current through the LED, the actual value if \\(V_{cap}\\) is less critical. With a visible light LED, the pulses will begin to droop fairly quickly. As already mentioned, consider reducing the current to manage that.</p> <p>Take care though before using MLCC capacitors instead of Tantalums. Typical MLCC capacitors do not give anywhere near their rated capacitance once they have a few volts of DC bias across them. Also, the smaller the package, the worse the effect. This is not the place to go into detail but, if you must use MLCC types, make them at least four times larger than you calculate and avoid small packages like 0603 or 0402.</p>"},{"location":"sensors/basic-constant-current-drive/#other-current-regulators","title":"Other Current Regulators","text":"<p>If you feel the need for more reliable or accurate solutions, have a look atthe Improved Current Regulation page.</p>"},{"location":"sensors/improved-current-regulation/","title":"Placeholder","text":"<p>This page intentionally blank</p> <p>Sections to illustrate the TOC feature</p>"},{"location":"sensors/improved-current-regulation/#section-1","title":"Section 1","text":"<p>Brick quiz whangs jumpy veldt fox. Bright vixens jump; dozy fowl quack. Quick wafting zephyrs vex bold Jim. Quick zephyrs blow, vexing daft Jim.</p>"},{"location":"sensors/improved-current-regulation/#sub-11","title":"Sub 1.1","text":"<p>Brick quiz whangs jumpy veldt fox. Bright vixens jump; dozy fowl quack. Quick wafting zephyrs vex bold Jim. Quick zephyrs blow, vexing daft Jim.</p>"},{"location":"sensors/imu-overview/","title":"IMUs - Gyros and Accelerometers","text":""},{"location":"sensors/line-sensors/","title":"Line Follower Line Sensors","text":""},{"location":"sensors/marker-sensors/","title":"Line Follower Marker Sensors","text":""},{"location":"sensors/switched-emitter-drive/","title":"Switched Emitter Driving","text":"<p>The fundamental task of the wall sensor emitters is to shine light on the walls so that it can be detected by some other device. It is nether practical, nor desirable to just turn on a LED and leave it on. Not only is the available light output not likely to be sufficient when the LED is operating safely within its limits, the light from each LED will also illuminate detectors other than the one for which it is intended.</p> <p>A better solution is to turn on each LED in turn for a brief period and measure the light reflected from just that LED. This brings a few benefits:</p> <ul> <li>Reduced interference from the other sensors</li> <li>Extra bright pulses of light for lower average current</li> <li>Cancellation of ambient illumination.</li> </ul>"},{"location":"sensors/switched-emitter-drive/#reduced-interference","title":"Reduced Interference","text":"<p>It should be fairly clear that, by only lighting up one LED at a time, you can be sure that other detectors are not going to see light reflected from unexpected places. For example, the front sensors will easily detect light from side walls if the side emitters are illuminated. This effect gets worse as the mouse approaches a dead end and light from the side sensors can get reflected off the side walls onto  a wall ahead where is can easily be picked up by the front detectors.</p> <p>It may be safe to light up the two side sensors together, or the two front sensors together but certainly not a side and front sensor on the same side. For best reliability, light each sensor individually.</p> <p>Depending on your detector circuit and software configuration, it can be possible that the signal of one sensor is affected by the signal from the previous sensor. This should be rare but it is worth experimenting with the order in which the sensors are read and the interval between readings if you suspect that one sensor is interfering with another.</p>"},{"location":"sensors/switched-emitter-drive/#extra-bright-illumination","title":"Extra Bright Illumination","text":"<p>In normal, continuous illumination a sensor LED might only be able to handle a relatively low current without overheating. For the SFH4550 IR LED, for example, that limit is only about 100mA. However, the same device is able to handle currents as high as 1 Amp (10x bigger) for short periods up to about 100us. The light output is proportional to current so you can create very bright pulses of light but only for a short time. The detector and processor typically only need a few tens of microseconds at most to capture the resulting reflection. </p> <p>Pulsing the light like this reduces the average amount of current needed for each LED. If you were to turn each one on for just 25us out of every 1000us and provide a 250mA current pulse, the average current draw would be only 6mA and yet you are getting light pulses that are 2.5 times as bright as would be available for a continuous 100mA illumination. The saving is huge - especially for half-size robots where the batteries are necessarily much smaller. Note that the duty cycle - that is, the proportion of time that the LED is lit - should be kept low so that the average current is not exceeded.</p>"},{"location":"sensors/switched-emitter-drive/#cancellation-of-ambient-illumination","title":"Cancellation of Ambient Illumination","text":"<p>It is all well and good to turn on the emitter LED and then measure the amount of light reflected by the walls. However, some of that light comes from the other sources of illumination in the area - the ambient illumination. By making only one measurement, it is not possible to work out anything about the ambient light levels. Remember, if you are using IR sensors, you are unable to see any of that anyway so you cannot make a judgement about it either.</p> <p>The usual method for handling this is to read the detectors twice. First, take a reading with the LED off. This is the ambient light level. Then, turn on the LED, wait a few microseconds to make sure everything is stable and then take another reading. This reading, coming very soon after the ambient reading, should have the same ambient component plus whatever is purely the result of any nearby objects reflecting the LED light. Thus any changes in the ambient level, that happen relatively slowly, will be cancelled out. Note that modern LED lighting may not contain much of an IR component but may be flashing quite rapidly - perhaps hundreds of times per second.</p> <p>Now you can just subtract the ambient reading from the 'lit' reading to get the raw, reflected intensity reading:</p> \\[ I_{RAW} = I_{LIT} - I_{AMB} \\]"},{"location":"sensors/switched-emitter-drive/#switching-options","title":"Switching Options","text":"<p>It seems unlikely that you would want to use anything mechanical so the usual choice is between different types of transistor. There are dedicated LED driver ICs but these don't always cater for the specific needs of micromouse robots. The choice then is probably limited to one of these transistor types:</p> <ul> <li>Single bipolar transistor</li> <li>Darlington bipolar transistor</li> <li>MOSFET transistor</li> </ul>"},{"location":"sensors/switched-emitter-drive/#single-bipolar-transistor","title":"Single Bipolar Transistor","text":"<p>This is one of the simplest choices. All you need is a suitable bipolar transistor and a couple of resistors to build your circuit:</p> <p></p> <p>A simple transistor switch</p> <p>The circuit has some fairly arbitrary values so that's take them in turn and look at how to choose your own values.</p>"},{"location":"sensors/switched-emitter-drive/#the-led","title":"The LED","text":"<p>Arguably the most important component. You may choose Infra Red (IR) or visible light devices. Aside from any optical properties, all LEDs will result in a forward voltage drop when current flows through them. For a typical IR LED - the SFH4550 - this will be about 2.0 Volts at 500mA, rising to 2.5 Volts at 1 Amp. This voltage will need to be taken into account when caclulating the current limit resistor R8.</p> <p>For a visible light LED like the TLCR5800, that voltage drop can be much higher and might approach 3.5 Volts at 500mA, rising to 4.7 Volts at 1 Amp.</p>"},{"location":"sensors/switched-emitter-drive/#current-limit-resistor-r8","title":"Current Limit Resistor R8","text":"<p>This resistor is used to limit the current that can flow through the LED. If the current is too high, or allowed to flow for too long, the LED can be damaged or destroyed. There is a power supply, \\(V_{LED}\\), that can provide the current needed. Assume for a moment that the transistor, Q2, can be turned fully on and the voltage between collector and emitter, \\(V_{CE}\\), is 0.2 Volts. It may be a little higher or lower, depending on the actual transistor type and the current we want through the LED.</p> <p>The LED and the transistor then may account for about 2.5 Volts and we should be able to have \\(V_{LED}\\) as low as 3.3 Volts and still get the circuit to operate.</p> <p>Suppose \\(V_{LED}\\) is 3.3 Volts. There is \\(3.3 - 2.5 = 0.8 Volts\\) across R8 and, if we want 500mA to flow, R8 must have the value \\(0.8/0.5 = 1.6\\Omega\\)</p> <p>That all seems well and good so long as the 3.3 Volt supply can provide the required current. It should be clear that, if the supply were 5 Volts, the value of R8 should increase to \\((5.0 - 2.5) = 2.5/0.5 = 5\\Omega\\) </p> <p>For many micromouse designs, 250mA through an IR LED is sufficient and, with a 3.3 Volt supply, R8 could be 5.6 Ohms. For others, the goal might be nearer 1 Amp.</p> <p>But, what if the design required  a visible light LED like the TLCR5800. Now the forward voltage drop of the LED exceeds the available voltage from a 3.3 Volt supply and only a 5.0 Volt supply will do.</p>"},{"location":"sensors/switched-emitter-drive/#the-transistor-q2","title":"The Transistor, Q2","text":"<p>It is always possible to go exotic with transistor choices but simple is often better. Here the BC337-40 has been chosen because it is cheap, easy to find and has characteristics that are adequate for most use cases. This transistor has a current gain of about 100 even at the kinds of collector current we have considered. For safety though, consider the current gain to be just 50 and the maximum collector current we need to be just 500mA. That means the base will need \\(500/50 = 10mA\\) which is well within he capabilities of most microprocessor IO pins. </p>"},{"location":"sensors/switched-emitter-drive/#the-base-resistor-r9","title":"The base resistor, R9","text":"<p>To the processor, the base will just look like a diode connected to ground. Suppose the processor IO pin high voltage is 3.3 Volts. To limit the current from the processor to the 10mA we need, the base resistor, R9, should be chosen to be \\((3.3 - 0.7)/0.01 = 260\\Omega\\).  The circuit has a value of 220 Ohms for a bit of extra margin.</p> <p>If the LED current required is substantially higher, the base current will need to be higher as well. Do not reduce the base resistor any more than needed to get the required transistor base current. You microcontroller will not play well with large current demands from its IO pins. Processor pins are commonly limited to values less than 20mA per pin.</p> <p>If you are expecting higher output currents from the IO pins, check to see if your processor of choice has settings that limit the amount of drive available. The STM32 series do this as a power saving option so make sure sufficient drive is available.</p> <p>So there we have it - a simple, low component count LED emitter drive. What more could we need?</p>"},{"location":"sensors/switched-emitter-drive/#darlington-transistor-pair","title":"Darlington Transistor Pair","text":"<p>One possible concern with the basic transistor circuit is the current needed from the processor's GPIO pin to guarantee driving the transistor into saturation. That is, making sure it acts as a switch. </p> <p>To try and address this issue, some builders have used a driver chip that contains a number of Darlington pair transistors. A fairly common choice used to be something like the ULN2003 - a seven channel Darlington  transistor array. Internally, each channel looks like this:</p> <p></p> <p>Using a Darlington Transistor Array</p> <p>A pair of transistors are connected together in such a way as to greatly increase the current gain. the other components ensure that the output transistor is turned hard on with an input voltage of at least 3.0 Volts. Perfect for modern processors with output voltages of 3.3 Volts. These chips were originally intended to drive things like stepper motors and relays so they include additional protection circuitry that does not really concern us here.</p> <p>While convenient in many ways, the ULN2003 does have some limitations. </p> <p>First, they are only rated for a peak maximum current of 500mA per channel. If you feel a need for more, you can connect channels in parallel. The device as a whole can handle up to 2.5 Amps in total.</p> <p>Second, when fully turned on, the voltage drop between the output and ground may be as high as 1.6 Volts according to the data sheet. When you add that to the 2.1 - 2.3 Volts dropped by an IR LED, it is clear that these devices are only really useful in systems that can provide a 5 Volt supply. You still need to calculate an appropriate current limit resistor value though you no longer need to worry about the base resistor since only about 1mA is needed to fully turn on the output. With a high-brightness visible light LED like the TLCR5800, even operation at 5 Volts maybe difficult with very high currents.</p> <p>If you have a 5 Volt rail and fancy the convenience of a single IC, this may be the device for you.</p>"},{"location":"sensors/switched-emitter-drive/#mosfet-driving-transistor","title":"MOSFET Driving Transistor","text":"<p>For switching circuits like these it is rather more common to find an N-channel MOSFET used in place of the bipolar device in the first circuit. Compared to bipolar transistors, MOSFETs often provide lower losses, need almost no  drive current and can switch faster.</p> <p></p> <p>Using a MOSFET</p> <p>MOSFETs can bring distinct advantages in this application. Driving the gate of a MOSFET consumes almost no current so the load on the processor's GPIO pin is negligible. There is still a small resistor between the IO pin and the gate though. This is needed to limit the brief current spike when the MOSFET is initially turned on. A few hundred ohms is sufficient. More than that will slightly slow down the current pulse rise time.</p> <p>You will also see an additional resistor of 10kOhm from the gate to ground. This is a safety precaution to ensure reliable operation of the device. During processor startup following a reset, or in the case of a poorly configured output pin, the gate may be left floating. That is, it might have no connection to any other part of the circuit. In that state, because it takes only very tiny gate currents to operate a MOSFET, you may find the device being turned on by stray signals. For example, simply touching the board may provide enough current to turn on the LED. The resistor between gate and ground, R10, ensures that the transistor is always turned off unless the processor explicitly turns it on.</p> <p>Selection of a suitable MOSFET is not terribly simple. Common parts for through-hole use may need surprisingly high voltages between the gate and ground (\\(V_{gs}\\)) before they fully turn on. Even then they may not be able to pass the design current. Parts like the ZVN4306A are useful only if your processor can provide 5 Volts on its output pins. </p> <p>Many surface mount parts, like the DMG3202U, are much better suited to the task and can easily pass 1 Amp with only 3 Volts at the gate .</p>"},{"location":"sensors/switched-emitter-drive/#calculating-current-with-r8","title":"Calculating Current with R8","text":"<p>Just like the bipolar version, the amount of current through the LED will depend upon the supply voltage, \\(V_{LED}\\) and the value of the resistor R8. The better MOSFETs, like DMG3202U, have on-state resistances (\\(R_{DS(ON)}\\)) of only a few tens of milliOhms and so they can be ignored for this purpose. Even with a current of 1 Amp, the MOSFET might only have a voltage drop of around 20 milliVolts. It is only necessary to consider the LED forward voltage drop. For example, with a supply voltage of 3.3 Volts an IR LED like SFH4550 could operate at 500 mA with a value for R8 of</p> \\[ R8 = \\frac{3.3 - 2.0}{0.5} = 2.6\\Omega \\]"},{"location":"sensors/switched-emitter-drive/#choosing-a-mosfet","title":"Choosing a MOSFET","text":"<p>This is a simple switching circuit. When searching for a suitable MOSFET, you should look for logic-level devices. That is, devices designed to turn fully on with only about 3 Volts at the gate. Always check. Do not be misled by a low threshold voltage (\\(V_{GS(th)}\\)). This is just the gate-source voltage at which the MOSFET only just starts to conduct and will typically be quite small.</p>"},{"location":"sensors/switched-emitter-drive/#circuit-safety","title":"Circuit Safety","text":"<p>Earlier it was stated that the maximum safe continuous current through an LED might only be about 50 - 100 mA. Suppose an error in the code left the transistor switch permanently on. With the circuits seen so far, the current might be as high as 500mA or 1 Amp. </p> <p>Not for very long though as the LED would probably be destroyed quite quickly. Even if it it were not destroyed, it may be damaged such that future operation is affected. Typically the light output would be greatly reduced. With an IR LED especially, it would be hard to detect such a fault.</p> <p>A simple modification to the circuit can provide protection in such a case while also reducing the demand on the power supply during the large current pulses. </p> <p>To limit the possible current to some safe value, a series resistor, here it is R11, can be placed in series with the LED supply voltage. Clearly, this would also limit the current during the illumination time so a reservoir capacitor, C3, is added in parallel with the LED, its current limit resistor and the transistor, to provide the main illuminating current.</p> <p></p> <p>Protecting the LED</p> <p>The addition of these components will change the other calculations a little. First, though, the value of R11 should be set to a value that will guarantee no harm to the LED should the transistor be turned fully on. In this circuit, if we assume a 5 Volt supply, it is simplest to ignore the other components as having a small effect and just consider the LED connected in series with the protection resistor. At its maximum safe current of 50mA, the SFH4550 would drop about 1.5 Volts. Therefore we need R11 to drop 3.5 Volts at 50mA. A resistor of 70 Ohms would do the trick and for a bit of extra margin, a 100 Ohm resistor has been selected.</p> <p>During the illumination pulse, almost all of the current through the LED will be provided by the capacitor. Between pulses, the capacitor recharges through R11. Because almost all the current for the LED comes from the capacitor, there will be a substantial reduction in noise on the power supply lines.</p> <p>This also means that  the reservoir capacitor should have a low Equivalent Series Resistance (ESR). For this purpose, Tantalum capacitors are recommended though they are more expensive. For through-hole parts, aluminium electrolytics will be sufficient.</p> <p>Note that it is unlikely to charge all the way up to the supply voltage because the charge is constantly being depleted. In fact, the average voltage across the capacitor is easy enough to calculate. Assume the current during each pulse is 500mA, that the pulses are 25us long and are repeated every 1000us. Now the average current is going to be 500mA * 25/1000 = 12.5mA. That average current will flow through R11 which will cause a voltage drop of 100 Ohms * 12.5 mA = 1.25 Volts. Thus, the capacitor can only charge up to the supply voltage less 1.25 Volts.</p> <p>If there is only a 3.3 Volt supply available this is a problem because you have now lost 1.25 Volts to the protection resistor, R11, and the SFH4550 LED will need more than 2 Volts when it is illuminated. there is nothing left for the current limit resistor, R8, to provide any regulation. With a visible light LED like TLCR5800, with its greater forward voltage, the situation would be worse and there would be no chance of correct operation unless the power supply was at least 5 Volts.</p> <p>The size of the capacitor will determine the ability of the LED to maintain a constant output during the illumination pulse. If the capacitor is too small, its charge will be depleted quickly causing the LED current, and so its light output, to rapidly drop. Choosing a larger capacitor will ensure that there is sufficient charge for even high current pulses though it will take a little longer for the circuit to reach some kind of equilibrium after the sensors are powered up.  This is because the capacitor must be charged through R11 from the power supply. This would normally only happen after the entire robot is powered on and should be complete within a few hundred milliseconds at most.</p> <p>In this circuit, as current is supplied by the capacitor, the voltage across it will inevitably drop. It is possible to calculate the capacitance required if you make assumptions about the permitted voltage drop. A longer pulse length or a higher current will cause a greater voltage drop. That in turn will cause a reduction in current. If you do not have much of a voltage overhead in the system then the current drop may become significant.</p> <p>For now, assume the same 500mA pulse, operating over 25us and that you can manage with a 0.25 Volt droop in the capacitor voltage.</p> <p>Rearrange the basic capacitor equation:</p> \\[ I = C\\frac{\\Delta V}{\\Delta t} \\] <p>to give </p> \\[  C = \\frac{I . \\Delta t}{\\Delta V}  = \\frac {0.5 * 0.000025}{0.25}  = 50 \\mu F  \\] <p>So you might pick a standard value like 100\\(\\mu\\)F to be on the safe side.</p>"},{"location":"sensors/switched-emitter-drive/#pulsed-bipolar-drive-example","title":"Pulsed Bipolar Drive Example","text":"<p>Consider now a switched emitter drive using a single bipolar transistor using some of the design decisions already discussed, using a 100 Ohm safety resistor, R11, a 100uF reservoir capacitor C3, and BC337-40 transistor:</p> <p></p> <p>Pulsed Bipolar Drive</p> <p>Goals:</p> <ul> <li>LED: SFH4550</li> <li>Pulse duration: 25us</li> <li>Pulse repetition: 1000us</li> <li>Pulse current: 300 mA</li> <li>Supply Voltage: 5 Volts</li> <li>GPIO output: 3.3 Volts</li> </ul>"},{"location":"sensors/switched-emitter-drive/#average-current","title":"Average current:","text":"<p>Assuming we can get a solid 300mA through the LED for the duration of the pulse, the average current through the LED will be 300mA * 25us/1000us = 7.5mA</p>"},{"location":"sensors/switched-emitter-drive/#average-voltage-on-the-storage-capacitor","title":"Average voltage on the storage capacitor","text":"<p>If the average current through R11 is 7.5mA, we can expect the average voltage drop across it to be 7.5mA * 100 Ohm = 0.75 Volts. Therefore, the capacitor average voltage is \\(V_{cap}\\) = 5.0 - 0.75 = 4.25 Volts</p>"},{"location":"sensors/switched-emitter-drive/#settling-time-for-v_cap-after-power-up","title":"Settling time for \\(V_{cap}\\) after power up","text":"<p>The time constant for the capacitor voltage is R*C = \\(100 * 100 * 10^{-6}\\) = 10ms. It will take around 3 time constants to get close (95%) to the steady state so the circuit should be operating normally 30ms or so after power on.</p> <p>A SPICE simulation in KiCAD confirms the calculation</p> <p></p> <p>Pulsed Bipolar Power On Behaviour</p>"},{"location":"sensors/switched-emitter-drive/#pulse-current","title":"Pulse current","text":"<p>The design called for 300mA pulses of 25us duration. It looks like they are OK but zooming in on just one pulse reveals that the current is a bit high and that it quickly droops a little. The droop is just the capacitor discharging slightly during the pulse.</p> <p></p> <p>Pulsed Bipolar - Single Pulse</p> <p>Since the droop is quite modest, let's pretend it is flat and recalculate the value of the current limit resistor, R8. The data sheet for the SFH4550 indicates that the forward voltage should be about 1.75 Volts at 300mA. The transistor is saturated and will have a voltage of about 0.2 Volts at the collector. The capacitor voltage has already been calculated at 4.25 Volts. Now, at 300mA, R8 must drop 4.25 - 0.2 - 1.75 = 2.3 Volts and so its resistance will be 2.3/0.3 = 7.66 Ohms. Choose a close standard value.  Make that 6.8 Ohms to try and meet, or slightly exceed, the required current. There is little point in being over-precise since there will be some variation in the characteristics of all the components. The aim is to get close enough. Besides, the values in this circuit interact. Changing R8 alters the current which changes the LED voltage drop, which changes the voltage across R8 and so on.</p> <p>After changing R8 to 6.8 Ohms, the pulse looks like this:</p> <p></p> <p>Pulsed Bipolar - Corrected Single Pulse</p> <p>Which is pretty acceptable. The peak is close to the target, the droop is small and the shape is stable.</p>"},{"location":"sensors/switched-emitter-drive/#limitations","title":"Limitations","text":"<p>These calculations provide a perfectly acceptable current pulse through the LED for the conditions set out. However, consider how the circuit would behave if the supply voltage were only 3.3 Volts. The circuit can no longer operate correctly because it is not possible to push 300mA through the LED with such a low supply voltage. In fact, the best that can be managed is pulses of around 160mA. Even if the capacitor voltage got up to 3.3 Volts, the LED and transistor would need nearly 2 Volts, leaving only 1.3 Volts across R8 for a maximum of 1.3/6.8 = 190mA. The pulses settle out a little lower because the average current through the protection resistor, R11, will also act to reduce the capacitor voltage as before.</p> <p>This is a major limitation of the simple switched drive. The actual current as well as the available current is strongly dependent upon having a stable supply voltage that is high enough to exceed all the fixed voltage drops.</p> <p>Furthermore, increasing the current will increase the voltage drop across the LED and so even more headroom is needed from the supply. Worse still, if the SFH4550 is swapped out for something like the TLCR5800, the LED voltage drop may be so large that a 5 Volt supply is no longer adequate for any kind of high current use.</p> <p>Changing from a bipolar transistor to a MOSFET will not fix that. It will only reduce the demands on the GPIO pin and the already modest losses in the transistor.</p> <p>In short, this kind of circuit is fine for modest current pulses and LEDs with smaller forward voltages. If the design calls for large currents and/or high-intensity visible light LEDs, some other solution is needed.</p> <p>Unfortunately, the actual current through the LED is clearly dependent upon the supply voltage so it is not a simple matter of connecting the LED supply to the battery as that voltage will change as the robot runs, causing the LED current to vary and the sensor readings to change.</p> <p>The answer lies in a slightly different configuration that will guarantee a constant current through the LED during the pulse and which will work reliably across a range of supply voltages. </p> <p>See the Constant Current Drive Section for some ways to manage that.</p>"},{"location":"sensors/switched-emitter-drive/#real-world-cases","title":"Real-World Cases","text":"<p>In the preceding sections, examples are given for circuits with quite large LED currents. You should not assume large currents are essential. These examples represent relatively extreme cases used to illustrate some issues that arise. Your robot will have its own needs and typical, commonly used configurations might only need LED currents that are around 250mA for a classic micromouse and much less for a half-size micromouse when the detecting element is a phototransistor.</p> <p>Detectors built with photodiodes are faster and more linear but produce much smaller photocurrents and so they may benefit from significantly brighter illumination and/or an amplification stage on the detector side.</p> <p>Note also that the emitter configuration is only a part of the sensor design. See also the pages on geometry and detectors for a more complete picture.</p>"},{"location":"sensors/wall-sensor-detectors/","title":"Wall Sensor Emitter Types","text":""},{"location":"sensors/wall-sensor-emitters/","title":"Wall Sensor Emitter Types","text":""}]}